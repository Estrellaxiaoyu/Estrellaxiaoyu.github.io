<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>操作系统笔记 | Estrella博客</title><meta name="author" content="Estrella"><meta name="copyright" content="Estrella"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="笔记来自王道考研和《操作系统导论》">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统笔记">
<meta property="og:url" content="https://estrellaxiaoyu.github.io/2023/07/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Estrella博客">
<meta property="og:description" content="笔记来自王道考研和《操作系统导论》">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://estrellaxiaoyu.github.io/img/%E7%AC%94%E8%AE%B0p6.webp">
<meta property="article:published_time" content="2023-07-25T09:52:11.000Z">
<meta property="article:modified_time" content="2023-07-29T08:22:50.403Z">
<meta property="article:author" content="Estrella">
<meta property="article:tag" content="Estrella的博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://estrellaxiaoyu.github.io/img/%E7%AC%94%E8%AE%B0p6.webp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://estrellaxiaoyu.github.io/2023/07/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":100},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '操作系统笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-29 16:22:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/constown/HexoCustomFile@0.0.4/dist/css/custom.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/%E5%A4%B4%E5%83%8F.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/%E7%AC%94%E8%AE%B0p6.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="Estrella博客"><span class="site-name">Estrella博客</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">操作系统笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-25T09:52:11.000Z" title="发表于 2023-07-25 17:52:11">2023-07-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-29T08:22:50.403Z" title="更新于 2023-07-29 16:22:50">2023-07-29</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">13k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>41分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="操作系统笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="操作系统学习建议"><a href="#操作系统学习建议" class="headerlink" title="操作系统学习建议"></a>操作系统学习建议</h1><p>不过说实话，如果你还在校大二大三，我真的墙裂建议你去做一些国外的计算机 lab，比如OS、Network。</p>
<p>等到毕业了，几乎就不太可能从头开始系统学习那些基础知识了，除非你能自己闭关两三年，啥也不做，待在一个地方专心修炼。</p>
<p>好好珍惜在学校大把的空闲时间，做一些让在专业上让自己受益一生的事情。</p>
<p>这里我可以列举几个，国内不少喜欢 System 的同学都会去跟 MIT、CMU、UCB 这些计算机名校的课程。</p>
<p>比如 MIT 的 <strong>6.824 Distributed System</strong>、<strong>6.830 Database Systems</strong>、<strong>MIT 6.828 Operating System Engineering</strong> …..</p>
<blockquote>
<p>6.828是MIT的操作系统导论课，网上流传了一个录制质量不高的版本，可能可以在B站找到。 这门课教了操作系统的原理，并带学生简单实现了操作系统的主要部分。 要学习6.828的Lab，最好已经对C语言非常熟悉，而且上过了诸如 计算机组成原理 和 操作系统 等等课程，否则可能非常吃力，看着大佬的讲义不明所以。</p>
</blockquote>
<h1 id="操作系统lab项目"><a href="#操作系统lab项目" class="headerlink" title="操作系统lab项目"></a><a target="_blank" rel="noopener" href="https://chyyuu.gitbooks.io/ucore_os_docs/content/">操作系统lab项目</a></h1><p>RTFM是Read The Fucking Manual的意思，STFW是Search The Fucking Web的意思。</p>
<img src="操作系统(王道+操作系统导论).assets/image-20220902233323683.png" alt="image-20220902233323683" style="zoom:50%;" />



<h1 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h1><h2 id="操作系统的概念"><a href="#操作系统的概念" class="headerlink" title="操作系统的概念"></a>操作系统的概念</h2><ul>
<li>是指控制和管理整个计算机系统的硬件和软件资源，并合理组织和调度计算机工作和资源分配，以提供给用户和其他软件方便的接口和环境，它是计算机系统中最基本的&#x3D;&#x3D;系统软件&#x3D;&#x3D;</li>
</ul>
<h2 id="操作系统的功能和目标"><a href="#操作系统的功能和目标" class="headerlink" title="操作系统的功能和目标"></a>操作系统的功能和目标</h2><ul>
<li><p><strong>作为系统资源的管理者</strong></p>
<ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220903100814014.png" alt="image-20220903100814014" style="zoom:50%;" /></li>
</ul>
</li>
<li><p><strong>作为用户和计算机硬件之间的接口</strong></p>
<ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220903101031471.png" alt="image-20220903101031471" style="zoom:50%;" />
</li>
<li><p>命令接口</p>
<ul>
<li><p>联机命令接口：交互式命令接口</p>
</li>
<li><p>脱机命令接口：批处理命令接口</p>
</li>
</ul>
</li>
<li><p>程序接口(允许用户通过程序间接使用)</p>
<ul>
<li>有一组系统调用组成（程序接口&#x3D;&#x3D;系统调用）————系统调用=&#x3D;系统调用命令=&#x3D;广义指令（易懵指令）</li>
</ul>
</li>
<li><p>GUI</p>
<ul>
<li>就是图形化操作界面</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>作为最接近硬件的层次</strong></p>
<ul>
<li>实现对硬件资源的拓展（封装思想）</li>
<li>没有任何软件支持的计算机称为&#x3D;&#x3D;裸机&#x3D;&#x3D;。在裸机上安装操作系统，可以提供资源管理功能和方便用户的服务功能、将裸机改造成功能更强、使用更方便的机器</li>
<li>通常把覆盖了软件的机器称作为&#x3D;&#x3D;扩充机器&#x3D;&#x3D;，又称之为&#x3D;&#x3D;虚拟机&#x3D;&#x3D;</li>
</ul>
</li>
</ul>
<h2 id="操作系统的特征"><a href="#操作系统的特征" class="headerlink" title="操作系统的特征"></a>操作系统的特征</h2><img src="操作系统(王道+操作系统导论).assets/image-20220903102653218.png" alt="image-20220903102653218" style="zoom:50%;" />

<h3 id="并发"><a href="#并发" class="headerlink" title="并发"></a><strong>并发</strong></h3><ul>
<li>指两个或多个事件在同一时间间隔内发生。这些事件宏观上是同时发生的，但微观上是交替发生的</li>
<li>混淆概念——并行：指两个或多个事件在同一时刻同时发生</li>
<li><strong>操作系统的并发性</strong><ul>
<li>计算机系统中同时存在多个运行着的程序<ul>
<li>一个单核处理机（CPU）同一时刻只能执行一个程序，因此操作系统会协调多个程序的交替执行，这些程序在微观上是交替进行的，但宏观上好像是同时进行的<ul>
<li>事实上，操作系统就是伴随着“多到程序技术”诞生的。因此操作系统和程序并发是同时出现的</li>
</ul>
</li>
<li>当今的计算机，一般都是多核CPU，比如4核CPU，这意味着同一时刻可以有4个程序并行执行，但操作系统的并发性依然必不可少，因为有4个以上程序在运行的可能</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="共享"><a href="#共享" class="headerlink" title="共享"></a><strong>共享</strong></h3><ul>
<li><p>即资源共享，是指系统中的资源可提供给内存中多个并发执行的进程共同使用</p>
</li>
<li><p>互斥共享方式</p>
<ul>
<li>系统中的某些资源虽然可以提供给多个进程使用，但<strong>一个时间段内只允许一个进程访问该资源</strong><ul>
<li>例子：如qq和微信视屏聊天，同一时间段内摄像头只能分配给一个进程</li>
</ul>
</li>
<li>系统中的某些资源，<strong>允许一个时间段内有多个进程“同时”对它们访问</strong>（同时是宏观的，微观上，进程是交替访问的，即分时共享）<ul>
<li>使用qq发送文件A，使用微信发送文件B。从宏观上看，两边同时读取并发送文件，说明两个进程都在访问硬盘资源，在读取数据。从微观上看是交替访问硬盘（<strong>所以为什么说并发和共享互为存在条件</strong>）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="虚拟"><a href="#虚拟" class="headerlink" title="虚拟"></a><strong>虚拟</strong></h3><ul>
<li>是指把一个物理上的实体变为若干个逻辑上的对应物。物理实体（前者）是实际存在的，而逻辑上对应物（后者）是用户感受到的</li>
<li>例子：<ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220903105739149.png" alt="image-20220903105739149" style="zoom:50%;" /></li>
<li><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA" alt="image-20220903105908446 - 副本">.assets&#x2F;image-20220903105908446 - 副本.png)</li>
</ul>
</li>
<li><strong>虚拟技术</strong><ul>
<li><strong>空分复用技术</strong>（如虚拟存储器技术）</li>
<li><strong>时分复用技术</strong>（如虚拟处理器）</li>
<li><em>没有并发性就谈不上虚拟性</em></li>
</ul>
</li>
</ul>
<h3 id="异步"><a href="#异步" class="headerlink" title="异步"></a><strong>异步</strong></h3><ul>
<li>在多道程序下，允许程序并发执行，但由于资源有限，进程的执行不是一贯到底的，而是走走停停的，以不可预知的速度向前推进，这就是进程的异步性<ul>
<li>例子：<ul>
<li>一个进程调用了一个资源，但由于并发性，轮到下一个进程占用CPU，其也要调用这个资源，但是上个进程还未归还，所以要等到其归还才可以调用这个资源</li>
</ul>
</li>
<li><em>只有系统拥有并发性，才有可能导致异步性</em></li>
</ul>
</li>
</ul>
<h2 id="操作系统的发展和分类"><a href="#操作系统的发展和分类" class="headerlink" title="操作系统的发展和分类"></a>操作系统的发展和分类</h2><img src="操作系统(王道+操作系统导论).assets/image-20220904094118110.png" alt="image-20220904094118110" style="zoom:50%;" />

<ul>
<li><p><strong>手工操作阶段</strong></p>
<ul>
<li>主要缺点用户独占全机，人机速度矛盾导致的资源利用率低</li>
</ul>
</li>
<li><p><strong>批处理阶段</strong>——单道批处理系统</p>
<ul>
<li><p>引入脱机输入／输出技术（用磁带完成），并监督程序负责控制作业的输入、输出</p>
</li>
<li><p>&#x3D;&#x3D;主要优点&#x3D;&#x3D;：缓解了一定程度的人机速度矛盾，资源利用率有所提升。主要缺点：内存中仅能有一道程序运行，只有该程序运行结束之后才能调入下一道程序。CPU有大量的时间是在空闲等待1／0完成。资源利用率依然很低。</p>
</li>
</ul>
</li>
<li><p><strong>批处理阶段</strong>—一多道批处理系统</p>
<ul>
<li><p>每次往内存中输</p>
</li>
<li><p>操作系统正式诞生，并引入了中断入多道程序技术，由操作系统负责管理这些程序的运行。各个程序并发执行</p>
</li>
<li><p>多道批处理系统：</p>
</li>
<li><p>&#x3D;&#x3D;主要优点&#x3D;&#x3D;：多道程序并发执行，共享计算机资源。资源利用率大幅提升，CPU和其他资源保持“忙碌”状态，系统吞吐量增大。</p>
</li>
<li><p>&#x3D;&#x3D;主要缺点&#x3D;&#x3D;：用户响应时间长，没有人机交互功能（用户提交自己的作业之后就只能等待计算机处理完成，中间不能控制自己的作业执行）</p>
</li>
</ul>
</li>
<li><p><strong>分时操作系统</strong></p>
<ul>
<li><p>计算机以时间片为单位轮流为各个用户／作业服务，各个用户可通过终端与计算机进行交互。</p>
</li>
<li><p>主要优点：用户请求可以被即时响应，解决了人机交互问题。允许多个用户同时使用一台计算机，并且用户对计算机的操作相互独立，感受不到别人的存在。</p>
</li>
<li><p>主要缺点：<strong>不能优先处理一些紧急任务</strong>。操作系统对各个用户／作业都是完全公平的，循环地为每个用户／作业服务一个时间片，不区分任务的紧急性。</p>
</li>
</ul>
</li>
<li><p><strong>实时操作系统</strong>：</p>
<ul>
<li><p>主要优点：能够优先响应一些紧急任务，某些紧急任务不需时间片排队。</p>
</li>
<li><p>在实时操作系统的控制下，计算机系统接收到外部信号后及时进行处理，并且要在严格的时限内处理完事件。实时操作系统的主要特点是及时性和可靠性</p>
</li>
<li><p>硬实时操作系统</p>
<ul>
<li>必须在绝对严格的时间内完成处理，<em>例如：导弹控制系统，自动驾驶系统</em></li>
</ul>
</li>
<li><p>软实时操作系统</p>
<ul>
<li>能接受偶尔违反时间规定，<em>例如：12306火车订票系统</em></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>网络操作系统</strong>：</p>
<ul>
<li>是伴随着计算机网络的发展而诞生的，能把网络中各个计算机有机地结合起来，实现数据传送等功能，实现网络中各种资源的共享（如文件共享）和各台计算机之间的通信。（如：Windows NT就是一种典型的网络操作系统，网站服务器就可以使用）</li>
</ul>
</li>
<li><p><strong>分布式操作系统</strong>：</p>
<ul>
<li>主要特点是分布性和并行性。系统中的各台计算机地位相同，任何工作都可以分布在这些计算机上，由它们并行、协同完成这个任务。</li>
</ul>
</li>
<li><p><strong>个人计算机操作系统</strong>：</p>
<ul>
<li>如Windows XP、MacOS，方便个人使用。</li>
</ul>
</li>
</ul>
<h2 id="操作系统运行机制和体系结构"><a href="#操作系统运行机制和体系结构" class="headerlink" title="操作系统运行机制和体系结构"></a>操作系统运行机制和体系结构</h2><img src="操作系统(王道+操作系统导论).assets/image-20220904094736191.png" alt="image-20220904094736191" style="zoom:50%;" />

<h3 id="运行机制"><a href="#运行机制" class="headerlink" title="运行机制"></a>运行机制</h3><ul>
<li><p><strong>两种指令</strong></p>
<ul>
<li><strong>特权指令</strong>：如内存清零指令（不允许用户程序来使用）</li>
<li>非特权指令：如普通的运算指令</li>
</ul>
</li>
<li><p><strong>两种处理器状态</strong>——*&#x3D;&#x3D;都是在CPU上执行&#x3D;&#x3D;*</p>
</li>
<li><p>——<em>用程序状态字寄存器（PSW）的某种标志位来标识当前处理器处于什么状态。如0为用户态，1为核心态</em></p>
<ul>
<li><p><strong>核心态</strong></p>
<ul>
<li>此时CPU<em>只能执行非特权指令</em></li>
</ul>
</li>
<li><p>用户态</p>
<ul>
<li>特权指令和非特权指令都可以执行</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>两种程序应用程序</strong></p>
<ul>
<li>内核程序<ul>
<li>操作系统的内核程序是系统的管理者既可以执行特权指令，也可以执行非特权指令，运行在&#x3D;&#x3D;核心态&#x3D;&#x3D;</li>
</ul>
</li>
<li>应用程序<ul>
<li>为了保证系统能安全运行，普通应用程序只能执行非特权指令，运行在&#x3D;&#x3D;用户态&#x3D;&#x3D;</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="操作系统的内核"><a href="#操作系统的内核" class="headerlink" title="操作系统的内核"></a>操作系统的内核</h3><img src="操作系统(王道+操作系统导论).assets/image-20220904100516564.png" alt="image-20220904100516564" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220904100810609.png" alt="image-20220904100810609" style="zoom:50%;" />



<h3 id="操作系统体系结构"><a href="#操作系统体系结构" class="headerlink" title="操作系统体系结构"></a>操作系统体系结构</h3><img src="操作系统(王道+操作系统导论).assets/image-20220904100854666.png" alt="image-20220904100854666" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220904101150324-1664886548334-1.png" alt="image-20220904101150324" style="zoom:50%;" />





<h2 id="中断和异常（操作系统的内核）"><a href="#中断和异常（操作系统的内核）" class="headerlink" title="中断和异常（操作系统的内核）"></a>中断和异常（<em>操作系统的内核</em>）</h2><img src="操作系统(王道+操作系统导论).assets/image-20220904101721692.png" alt="image-20220904101721692" style="zoom:50%;" />

<ul>
<li><p><strong>中断机制的诞生</strong></p>
<ul>
<li>引入中断机制，实现了多道程序并发执行，<strong>本质</strong>：&#x3D;&#x3D;发生中断&#x3D;&#x3D;就意味着需要&#x3D;&#x3D;操作系统介入，开展管理工作&#x3D;&#x3D;</li>
</ul>
</li>
<li><p><strong>中断的概念和应用</strong></p>
<ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220904102348496.png" alt="image-20220904102348496" style="zoom:50%;" /></li>
</ul>
</li>
<li><p><strong>中断的分类</strong></p>
<ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220904103000720.png" alt="image-20220904103000720" style="zoom:50%;" />
</li>
<li><p>&#x3D;&#x3D;另一种分类方式&#x3D;&#x3D;</p>
</li>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220904103205928.png" alt="image-20220904103205928" style="zoom:50%;" /></li>
</ul>
</li>
<li><p><strong>外中断处理过程</strong></p>
<ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220904103444627.png" alt="image-20220904103444627" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h2 id="系统调用"><a href="#系统调用" class="headerlink" title="系统调用"></a>系统调用</h2><img src="操作系统(王道+操作系统导论).assets/image-20220904103735653.png" alt="image-20220904103735653" style="zoom:50%;" />

<h3 id="什么是系统调用，有何作用"><a href="#什么是系统调用，有何作用" class="headerlink" title="什么是系统调用，有何作用"></a><strong>什么是系统调用，有何作用</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220904104004178.png" alt="image-20220904104004178" style="zoom:50%;" /></li>
</ul>
<hr>
<ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220904104709516.png" alt="image-20220904104709516" style="zoom:50%;" /></li>
</ul>
<h3 id="系统调用和库函数的区别"><a href="#系统调用和库函数的区别" class="headerlink" title="系统调用和库函数的区别"></a><strong>系统调用和库函数的区别</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220904105044075.png" alt="image-20220904105044075" style="zoom:50%;" /></li>
</ul>
<h3 id="系统调用背后的过程"><a href="#系统调用背后的过程" class="headerlink" title="系统调用背后的过程"></a><strong>系统调用背后的过程</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220904105719452.png" alt="image-20220904105719452" style="zoom:50%;" /></li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;<strong>总结</strong>&#x3D;&#x3D;</h3><img src="操作系统(王道+操作系统导论).assets/image-20220904110302874.png" alt="image-20220904110302874" style="zoom:100%;" />

<p>​	</p>
<h1 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h1><h2 id="进程的定义、组成、组织方式、特征"><a href="#进程的定义、组成、组织方式、特征" class="headerlink" title="进程的定义、组成、组织方式、特征"></a>进程的定义、组成、组织方式、特征</h2><h3 id="进程的定义"><a href="#进程的定义" class="headerlink" title="进程的定义"></a><strong>进程的定义</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905084312209.png" alt="image-20220905084312209" style="zoom:50%;" /></li>
</ul>
<h3 id="进程的组成"><a href="#进程的组成" class="headerlink" title="进程的组成"></a><strong>进程的组成</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905084922874.png" alt="image-20220905084922874" style="zoom: 50%;" />
</li>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905084559660.png" alt="image-20220905084559660" style="zoom: 33%;" />
</li>
<li><h4 id="PCB组成"><a href="#PCB组成" class="headerlink" title="PCB组成"></a><strong>PCB组成</strong></h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905084803213.png" alt="image-20220905084803213" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h3 id="进程的-组织方式"><a href="#进程的-组织方式" class="headerlink" title="进程的&#x3D;&#x3D;组织方式&#x3D;&#x3D;"></a><strong>进程的&#x3D;&#x3D;组织方式&#x3D;&#x3D;</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905085114722.png" alt="image-20220905085114722" style="zoom:50%;" />

<ul>
<li><h4 id="链接方式"><a href="#链接方式" class="headerlink" title="链接方式"></a><strong>链接方式</strong></h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905085244127.png" alt="image-20220905085244127" style="zoom:50%;" /></li>
</ul>
</li>
<li><h4 id="索引方式"><a href="#索引方式" class="headerlink" title="索引方式"></a><strong>索引方式</strong></h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905085336199.png" alt="image-20220905085336199" style="zoom: 50%;" /></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="进程的特征"><a href="#进程的特征" class="headerlink" title="进程的特征"></a><strong>进程的特征</strong></h3><ul>
<li><p>进程和程序是两个截然不同的概念。相比较于程序，进程拥有以下特征</p>
</li>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905085630651.png" alt="image-20220905085630651" style="zoom:50%;" />
</li>
<li><h4 id="总结-1"><a href="#总结-1" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;<strong>总结</strong>&#x3D;&#x3D;</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905085806818.png" alt="image-20220905085806818" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h2 id="进程的状态与转换"><a href="#进程的状态与转换" class="headerlink" title="进程的状态与转换"></a>进程的状态与转换</h2><h4 id="与处理机调度的联系"><a href="#与处理机调度的联系" class="headerlink" title="与处理机调度的联系"></a>与处理机调度的联系</h4><h3 id="进程的状态"><a href="#进程的状态" class="headerlink" title="进程的状态"></a><strong>进程的状态</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905090156899.png" alt="image-20220905090156899" style="zoom:50%;" />
</li>
<li><h4 id="三种基本状态"><a href="#三种基本状态" class="headerlink" title="三种基本状态"></a><strong>三种基本状态</strong></h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905090616882.png" alt="image-20220905090616882" style="zoom:50%;" /></li>
</ul>
</li>
<li><h4 id="另外两种状态"><a href="#另外两种状态" class="headerlink" title="另外两种状态"></a><strong>另外两种状态</strong></h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905090654002.png" alt="image-20220905090654002" style="zoom: 80%;" /></li>
</ul>
</li>
</ul>
<h3 id="进程状态的转换"><a href="#进程状态的转换" class="headerlink" title="进程状态的转换"></a>进程状态的转换</h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905091020634.png" alt="image-20220905091020634" style="zoom:50%;" />
</li>
<li><h4 id="总结-2"><a href="#总结-2" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;<strong>总结</strong>&#x3D;&#x3D;</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905091103801.png" alt="image-20220905091103801" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220905091709237.png" alt="image-20220905091709237"></p>
<h2 id="进程控制（-控制进程状态-转换具体细节-）"><a href="#进程控制（-控制进程状态-转换具体细节-）" class="headerlink" title="进程控制（*控制进程状态&#x3D;&#x3D;转换具体细节&#x3D;&#x3D;*）"></a>进程控制（*控制进程状态&#x3D;&#x3D;转换具体细节&#x3D;&#x3D;*）</h2><ul>
<li><p>进程控制的主要功能是对系统中的所有进程实施有效的管理，它具有创建新进程、撤销已有进程、实现进程状态之间的转换</p>
</li>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905091555291.png" alt="image-20220905091555291" style="zoom:50%;" />

<h3 id="如何实现"><a href="#如何实现" class="headerlink" title="如何实现"></a><strong>如何实现</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905092208784.png" alt="image-20220905092208784" style="zoom:50%;" /></li>
<li>为了防止进程标志位的出错（即运行态……），&#x3D;&#x3D;用“原语”实现&#x3D;&#x3D;</li>
</ul>
</li>
</ul>
<h3 id="原语——即具体细节"><a href="#原语——即具体细节" class="headerlink" title="原语——即具体细节"></a><strong>原语</strong>——<em>即具体细节</em></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905092506567.png" alt="image-20220905092506567" style="zoom:50%;" />


</li>
<li><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220905092719927.png" alt="image-20220905092719927"></p>
</li>
</ul>
<h3 id="进程相关原语"><a href="#进程相关原语" class="headerlink" title="进程相关原语"></a><strong>进程相关原语</strong></h3><h4 id="进程的创建"><a href="#进程的创建" class="headerlink" title="进程的创建"></a><strong>进程的创建</strong></h4><ul>
<li><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220905093351769.png" alt="image-20220905093351769"></li>
</ul>
<h4 id="进程的终止"><a href="#进程的终止" class="headerlink" title="进程的终止"></a><strong>进程的终止</strong></h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905093447119.png" alt="image-20220905093447119" style="zoom:50%;" /></li>
</ul>
<h4 id="进程的阻塞和唤醒"><a href="#进程的阻塞和唤醒" class="headerlink" title="进程的阻塞和唤醒"></a><strong>进程的阻塞和唤醒</strong></h4><ul>
<li><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220905093611975.png" alt="image-20220905093611975"></li>
</ul>
<h4 id="进程的切换"><a href="#进程的切换" class="headerlink" title="进程的切换"></a><strong>进程的切换</strong></h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905093817194.png" alt="image-20220905093817194" style="zoom:50%;" /></li>
</ul>
<h3 id="总结-3"><a href="#总结-3" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905094006745.png" alt="image-20220905094006745" style="zoom:50%;" /></li>
</ul>
<img src="操作系统(王道+操作系统导论).assets/image-20220905094511585.png" alt="image-20220905094511585" style="zoom:50%;" />

<h2 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h2><ul>
<li>进程是分配系统资源的单位（包括内存地址空间），因此&#x3D;&#x3D;各进程&#x3D;&#x3D;拥有的&#x3D;&#x3D;内存地址空间相互独立&#x3D;&#x3D;<ul>
<li>为了保证安全，一个进程不能直接访问另一个进程的地址空间</li>
<li>但是进程之间的信息交换又是必须实现的。为了保证进程间的安全通信，操作系统提供了一些方法</li>
</ul>
</li>
<li>总览</li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221004212020487.png" alt="image-20221004212020487"></p>
<h3 id="共享通信"><a href="#共享通信" class="headerlink" title="共享通信"></a><strong>共享通信</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905095008999.png" alt="image-20220905095008999" style="zoom:50%;" />
+ ==互斥==：读和写不能同时进行</li>
</ul>
<h3 id="消息传递"><a href="#消息传递" class="headerlink" title="消息传递"></a><strong>消息传递</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905095535308.png" alt="image-20220905095535308" style="zoom:50%;" /></li>
</ul>
<h3 id="管道通信"><a href="#管道通信" class="headerlink" title="管道通信"></a><strong>管道通信</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905095244034.png" alt="image-20220905095244034" style="zoom:50%;" /></li>
</ul>
<h3 id="总结-4"><a href="#总结-4" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220905095635514.png" alt="image-20220905095635514" style="zoom: 67%;" /></li>
</ul>
<h2 id="线程和多线程模型（在进程之下）"><a href="#线程和多线程模型（在进程之下）" class="headerlink" title="线程和多线程模型（在进程之下）"></a>线程和多线程模型（<em>在进程之下</em>）</h2><h3 id="知识总览"><a href="#知识总览" class="headerlink" title="知识总览"></a><strong>知识总览</strong></h3><img src="操作系统(王道+操作系统导论).assets/image-20220907090139736.png" alt="image-20220907090139736" style="zoom:50%;" />

<h3 id="什么是线程"><a href="#什么是线程" class="headerlink" title="什么是线程"></a><strong>什么是线程</strong></h3><ul>
<li><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220907091052985.png" alt="image-20220907091052985"></p>
</li>
<li><p>可以把线程理解为“轻量级进程”。</p>
</li>
<li><p>线程是一个&#x3D;&#x3D;基本的CPU执行单位&#x3D;&#x3D;，也可以是&#x3D;&#x3D;程序执行流的最小单位&#x3D;&#x3D;</p>
</li>
<li><p>引入线程之后，不仅是进程之间可以&#x3D;&#x3D;并发&#x3D;&#x3D;，进程内的&#x3D;&#x3D;各线程之间&#x3D;&#x3D;也可以&#x3D;&#x3D;并发&#x3D;&#x3D;，从而进一步提升了&#x3D;&#x3D;系统的并发度&#x3D;&#x3D;，使得一个进程内也可以并发处理各种任务（如QQ视频、文字聊天、传文件）</p>
</li>
<li><p>引入线程后，&#x3D;&#x3D;进程&#x3D;&#x3D;只作为&#x3D;&#x3D;除CPU之外的系统资源的分配单位&#x3D;&#x3D;（如打印机、内存地址空间等都是分配给进程的）。 </p>
</li>
<li><p>多线程下每一个线程都有一个栈</p>
</li>
<li><p><strong>引入线程带来的变化</strong></p>
</li>
</ul>
<img src="操作系统(王道+操作系统导论).assets/image-20220907091701066.png" alt="image-20220907091701066" style="zoom:50%;" />

<h3 id="线程的属性"><a href="#线程的属性" class="headerlink" title="线程的属性"></a><strong>线程的属性</strong></h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907091811682.png" alt="image-20220907091811682" style="zoom:50%;" /></li>
</ul>
<h3 id="线程的实现方式"><a href="#线程的实现方式" class="headerlink" title="线程的实现方式"></a><strong>线程的实现方式</strong></h3><ul>
<li><strong>用户级线程</strong><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907092344566.png" alt="image-20220907092344566" style="zoom:50%;" /></li>
</ul>
</li>
<li><strong>内核级线程</strong><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907092432241.png" alt="image-20220907092432241" style="zoom:50%;" /></li>
</ul>
</li>
<li>在同时支持用户级线程和内核级线程的系统中，可采用二者结合的方式：将n个用户级线程映射到m个内核级线程上（n&gt;&#x3D;m）<ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907092704628.png" alt="image-20220907092704628" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h3 id="多线程模型（用户级线程映射在内核级线程）"><a href="#多线程模型（用户级线程映射在内核级线程）" class="headerlink" title="多线程模型（用户级线程映射在内核级线程）"></a>多线程模型（<em>用户级线程映射在内核级线程</em>）</h3><h4 id="多对一"><a href="#多对一" class="headerlink" title="多对一"></a><strong>多对一</strong></h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907092915371.png" alt="image-20220907092915371" style="zoom:50%;" /></li>
</ul>
<h4 id="一对一"><a href="#一对一" class="headerlink" title="一对一"></a>一对一</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907093138941.png" alt="image-20220907093138941" style="zoom:50%;" /></li>
</ul>
<h4 id="多对多"><a href="#多对多" class="headerlink" title="多对多"></a>多对多</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907093321714.png" alt="image-20220907093321714" style="zoom:50%;" /></li>
</ul>
<h3 id="总结-5"><a href="#总结-5" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907093456788.png" alt="image-20220907093456788" style="zoom: 67%;" /></li>
</ul>
<h2 id="处理机调度（控制不同状态-进程的执行顺序-）"><a href="#处理机调度（控制不同状态-进程的执行顺序-）" class="headerlink" title="处理机调度（控制不同状态&#x3D;&#x3D;进程的执行顺序&#x3D;&#x3D;）"></a>处理机调度（控制不同状态&#x3D;&#x3D;进程的执行顺序&#x3D;&#x3D;）</h2><ul>
<li><strong>什么是处理机</strong>：<em>处理机包括中央处理器，主存储器，输入-输出接口，加接外围设备就构成完整的计算机系统。</em></li>
</ul>
<h3 id="知识总览-1"><a href="#知识总览-1" class="headerlink" title="知识总览"></a>知识总览</h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907094749417.png" alt="image-20220907094749417" style="zoom:50%;" /></li>
</ul>
<h3 id="调度的基本概念"><a href="#调度的基本概念" class="headerlink" title="调度的基本概念"></a>调度的基本概念</h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907095035816.png" alt="image-20220907095035816" style="zoom:50%;" /></li>
</ul>
<h3 id="调度的三个层次"><a href="#调度的三个层次" class="headerlink" title="调度的三个层次"></a>调度的三个层次</h3><h4 id="高级调度（作业调度）"><a href="#高级调度（作业调度）" class="headerlink" title="高级调度（作业调度）"></a>高级调度（作业调度）</h4><ul>
<li>主要指调入的问题</li>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907101330739.png" alt="image-20220907101330739" style="zoom:50%;" /></li>
</ul>
<h4 id="中级调度（内存调度）"><a href="#中级调度（内存调度）" class="headerlink" title="中级调度（内存调度）"></a>中级调度（内存调度）</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907101439545.png" alt="image-20220907101439545" style="zoom:50%;" /></li>
</ul>
<img src="操作系统(王道+操作系统导论).assets/image-20220907101658642.png" alt="image-20220907101658642" style="zoom:50%;" />

<h4 id="进程的挂起态与七状态模型"><a href="#进程的挂起态与七状态模型" class="headerlink" title="进程的挂起态与七状态模型"></a>进程的挂起态与七状态模型</h4><img src="操作系统(王道+操作系统导论).assets/image-20220907101954187.png" alt="image-20220907101954187" style="zoom:50%;" />

<h4 id="低级调度（进程调度）"><a href="#低级调度（进程调度）" class="headerlink" title="低级调度（进程调度）"></a>低级调度（进程调度）</h4><img src="操作系统(王道+操作系统导论).assets/image-20220907102103187.png" alt="image-20220907102103187" style="zoom:50%;" />

<h4 id="三层调度的联系和对比（-以及对进程状态影响-）"><a href="#三层调度的联系和对比（-以及对进程状态影响-）" class="headerlink" title="三层调度的联系和对比（*&#x3D;&#x3D;以及对进程状态影响&#x3D;&#x3D;*）"></a>三层调度的联系和对比（*&#x3D;&#x3D;以及对进程状态影响&#x3D;&#x3D;*）</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907102301829.png" alt="image-20220907102301829" style="zoom:50%;" /></li>
</ul>
<h3 id="总结-6"><a href="#总结-6" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907102431704.png" alt="image-20220907102431704" style="zoom:50%;" /></li>
</ul>
<h3 id="进程调度-低级调度（细节）"><a href="#进程调度-低级调度（细节）" class="headerlink" title="进程调度&#x2F;低级调度（细节）"></a>进程调度&#x2F;低级调度（<em>细节</em>）</h3><h4 id="我的理解-："><a href="#我的理解-：" class="headerlink" title="&#x3D;&#x3D;我的理解&#x3D;&#x3D;："></a>&#x3D;&#x3D;我的理解&#x3D;&#x3D;：</h4><ul>
<li><strong>选择进程进行进程状态（就绪态和运行态）的切换</strong></li>
</ul>
<h4 id="知识总览-2"><a href="#知识总览-2" class="headerlink" title="知识总览"></a>知识总览</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907102854553.png" alt="image-20220907102854553" style="zoom:50%;" /></li>
</ul>
<h4 id="进程调度时机"><a href="#进程调度时机" class="headerlink" title="进程调度时机"></a>进程调度时机</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907103636626.png" alt="image-20220907103636626" style="zoom:50%;" /></li>
</ul>
<h4 id="进程调度的方式（对应两个调度时机）"><a href="#进程调度的方式（对应两个调度时机）" class="headerlink" title="进程调度的方式（对应两个调度时机）"></a>进程调度的方式（<em>对应两个调度时机</em>）</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907105901693.png" alt="image-20220907105901693" style="zoom:50%;" /></li>
</ul>
<h4 id="进程的切换与过程"><a href="#进程的切换与过程" class="headerlink" title="进程的切换与过程"></a>进程的切换与过程</h4><h5 id="“-狭义-的进程调度”和”进程切换”的区别——-广义-的进程调度"><a href="#“-狭义-的进程调度”和”进程切换”的区别——-广义-的进程调度" class="headerlink" title="“&#x3D;&#x3D;狭义&#x3D;&#x3D;的进程调度”和”进程切换”的区别——&#x3D;&#x3D;广义&#x3D;&#x3D;的进程调度"></a>“&#x3D;&#x3D;狭义&#x3D;&#x3D;的进程调度”和”进程切换”的区别——&#x3D;&#x3D;广义&#x3D;&#x3D;的进程调度</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220907111433426.png" alt="image-20220907111433426"></p>
<h5 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h5><img src="操作系统(王道+操作系统导论).assets/image-20220907111654394.png" alt="image-20220907111654394" style="zoom:50%;" />



<h4 id="总结-7"><a href="#总结-7" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220907111313934.png" alt="image-20220907111313934" style="zoom:50%;" /></li>
</ul>
<h3 id="调度算法的评价指标"><a href="#调度算法的评价指标" class="headerlink" title="调度算法的评价指标"></a>调度算法的评价指标</h3><h4 id="知识总览-3"><a href="#知识总览-3" class="headerlink" title="知识总览"></a>知识总览</h4><ul>
<li><img src="操作系统(王道+操作系统导论).assets/image-20220910102306102.png" alt="image-20220910102306102" style="zoom:67%;" /></li>
</ul>
<h4 id="cpu利用率"><a href="#cpu利用率" class="headerlink" title="cpu利用率"></a>cpu利用率</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910102420292.png" alt="image-20220910102420292" style="zoom: 50%;" />

<h4 id="系统吞吐量"><a href="#系统吞吐量" class="headerlink" title="系统吞吐量"></a>系统吞吐量</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910102521064.png" alt="image-20220910102521064" style="zoom:50%;" />

<h4 id="周转时间"><a href="#周转时间" class="headerlink" title="周转时间"></a>周转时间</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910102756241.png" alt="image-20220910102756241" style="zoom: 33%;" />

<h5 id="进一步：带权周转时间"><a href="#进一步：带权周转时间" class="headerlink" title="进一步：带权周转时间"></a>进一步：带权周转时间</h5><ul>
<li><em>可计算出作业周转时间是作业实际运行时间的多少倍</em></li>
</ul>
<img src="操作系统(王道+操作系统导论).assets/image-20220910102956693.png" alt="image-20220910102956693" style="zoom:33%;" />

<h4 id="等待时间"><a href="#等待时间" class="headerlink" title="等待时间"></a>等待时间</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910103134117.png" alt="image-20220910103134117" style="zoom: 33%;" />

<h4 id="响应时间"><a href="#响应时间" class="headerlink" title="响应时间"></a>响应时间</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910103226532.png" alt="image-20220910103226532" style="zoom:33%;" />

<h4 id="总结-8"><a href="#总结-8" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910103206676.png" alt="image-20220910103206676" style="zoom: 50%;" />



<h3 id="调度算法"><a href="#调度算法" class="headerlink" title="&#x3D;&#x3D;调度算法&#x3D;&#x3D;"></a>&#x3D;&#x3D;调度算法&#x3D;&#x3D;</h3><h4 id="知识总览-4"><a href="#知识总览-4" class="headerlink" title="知识总览"></a>知识总览</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910103521148.png" alt="image-20220910103521148" style="zoom:50%;" />

<h4 id="学习思路"><a href="#学习思路" class="headerlink" title="学习思路"></a>学习思路</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910103614834.png" alt="image-20220910103614834" style="zoom:50%;" />

<h4 id="FCFS算法"><a href="#FCFS算法" class="headerlink" title="FCFS算法"></a>FCFS算法</h4><blockquote>
<p>First Come Fisrt Serve</p>
</blockquote>
<img src="操作系统(王道+操作系统导论).assets/image-20220910104312300.png" alt="image-20220910104312300" style="zoom:50%;" />



<h4 id="SJF算法"><a href="#SJF算法" class="headerlink" title="SJF算法"></a>SJF算法</h4><blockquote>
<p>Shortest Job(作业) First \ SPF : Shortest Proccess(进程) First</p>
</blockquote>
<img src="操作系统(王道+操作系统导论).assets/image-20220910105640059.png" alt="image-20220910105640059" style="zoom:50%;" />

<h5 id="非抢占式"><a href="#非抢占式" class="headerlink" title="非抢占式"></a>非抢占式</h5><ul>
<li><strong>&#x3D;&#x3D;注意是在当前已到达里选运行时间最短的作业&#x2F;进程&#x3D;&#x3D;</strong></li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220910104813142.png" alt="image-20220910104813142"></p>
<h5 id="抢占式——SRTN"><a href="#抢占式——SRTN" class="headerlink" title="抢占式——SRTN"></a>抢占式——SRTN</h5><blockquote>
<p>Short Remaining Time Next</p>
</blockquote>
<img src="操作系统(王道+操作系统导论).assets/image-20220910105200187.png" alt="image-20220910105200187" style="zoom:50%;" />

<h5 id="注意一些细节"><a href="#注意一些细节" class="headerlink" title="注意一些细节"></a>注意一些细节</h5><img src="操作系统(王道+操作系统导论).assets/image-20220910105450294.png" alt="image-20220910105450294" style="zoom:50%;" />



<h4 id="HRRT算法"><a href="#HRRT算法" class="headerlink" title="HRRT算法"></a>HRRT算法</h4><blockquote>
<p>Highest Response Ratio Next——高响应比优先算法</p>
</blockquote>
<img src="操作系统(王道+操作系统导论).assets/image-20220910110425552.png" alt="image-20220910110425552" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220910110330867.png" alt="image-20220910110330867" style="zoom:50%;" />



<h4 id="总结-9"><a href="#总结-9" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910110450132.png" alt="image-20220910110450132" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220910110522988.png" alt="image-20220910110522988" style="zoom:50%;" />



<hr>
<h4 id="时间片轮转调度算法（RR）"><a href="#时间片轮转调度算法（RR）" class="headerlink" title="时间片轮转调度算法（RR）"></a>时间片轮转调度算法（RR）</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910112128471.png" alt="image-20220910112128471" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220910111825355.png" alt="image-20220910111825355" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220910111929360.png" alt="image-20220910111929360" style="zoom:50%;" />

<ul>
<li><h4 id="一般来说，设计时间片时让让切换进程的开销占比不超过1"><a href="#一般来说，设计时间片时让让切换进程的开销占比不超过1" class="headerlink" title="一般来说，设计时间片时让让切换进程的开销占比不超过1%"></a><em><strong>一般来说，设计时间片时让让切换进程的开销占比不超过1%</strong></em></h4></li>
</ul>
<h4 id="优先级调度算法"><a href="#优先级调度算法" class="headerlink" title="优先级调度算法"></a>优先级调度算法</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910113050504.png" alt="image-20220910113050504" style="zoom:50%;" />

<h5 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h5><img src="操作系统(王道+操作系统导论).assets/image-20220910113137000.png" alt="image-20220910113137000" style="zoom:50%;" />



<h4 id="多级反馈队列调度算法-MLFQ"><a href="#多级反馈队列调度算法-MLFQ" class="headerlink" title="多级反馈队列调度算法(MLFQ)"></a>多级反馈队列调度算法(MLFQ)</h4><blockquote>
<p>Multi-level Feedback Queue</p>
</blockquote>
<blockquote>
<p>对于短时间运行的交互型工作，获得类似于SJF&#x2F;STCF的很好的全局性能，同时对长时间运行的CPU密集型负载也可以公平地、不断稳步前进</p>
</blockquote>
<img src="操作系统(王道+操作系统导论).assets/image-20220910113701339.png" alt="image-20220910113701339" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220910113514688.png" alt="image-20220910113514688" style="zoom:50%;" />

<h4 id="总结-10"><a href="#总结-10" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220910113719368.png" alt="image-20220910113719368" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220910113841590.png" alt="image-20220910113841590" style="zoom:50%;" />



<h4 id="彩票调度（lottery-scheduling）"><a href="#彩票调度（lottery-scheduling）" class="headerlink" title="彩票调度（lottery scheduling）"></a>彩票调度（lottery scheduling）</h4><blockquote>
<p>比例份额(proportional-shared)调度程序，又称公平份额(fair-share)调度程序</p>
<p>书p65</p>
</blockquote>
<h5 id="基本思想"><a href="#基本思想" class="headerlink" title="基本思想"></a>基本思想</h5><ul>
<li>每隔一段时间，都会举行一次彩票抽奖，以确定接下来应该运行哪个程序。越是应该频繁运行的程序，越是应该拥有更多地赢得彩票的机会。</li>
</ul>
<h4 id="步长调度（stride-scheduling）"><a href="#步长调度（stride-scheduling）" class="headerlink" title="步长调度（stride scheduling）"></a>步长调度（stride scheduling）</h4><blockquote>
<p>彩票数小的步长在整体中大，彩票数小的步长在整体中小</p>
<p>书p69</p>
</blockquote>
<h2 id="进程同步-进程互斥"><a href="#进程同步-进程互斥" class="headerlink" title="进程同步&#x2F;进程互斥"></a>进程同步&#x2F;进程互斥</h2><h3 id="什么是进程同步"><a href="#什么是进程同步" class="headerlink" title="什么是进程同步"></a>什么是进程同步</h3><h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911100353843.png" alt="image-20220911100353843" style="zoom: 50%;" />



<h3 id="什么是进程互斥"><a href="#什么是进程互斥" class="headerlink" title="什么是进程互斥"></a>什么是进程互斥</h3><blockquote>
<p>1.临界资源<br>临界资源是一次仅允许一个进程使用的共享资源。各进程采取互斥的方式，实现共享的资源称作临界资源。属于临界资源的硬件有，打印机，磁带机等；软件有消息队列，变量，数组，缓冲区等。诸进程间采取互斥方式，实现对这种资源的共享。</p>
<p>2.临界区：<br>每个进程中访问临界资源的那段代码称为临界区（criticalsection），每次只允许一个进程进入临界区，进入后，不允许其他进程进入。不论是硬件临界资源还是软件临界资源，多个进程必须互斥的对它进行访问。多个进程涉及到同一个临界资源的的临界区称为相关临界区。使用临界区时，一般不允许其运行时间过长，只要运行在临界区的线程还没有离开，其他所有进入此临界区的线程都会被挂起而进入等待状态，并在一定程度上影响程序的运行性能。</p>
</blockquote>
<img src="操作系统(王道+操作系统导论).assets/image-20220911100530772.png" alt="image-20220911100530772" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220911100713038.png" alt="image-20220911100713038" style="zoom:50%;" />

<h4 id="为了实现临界资源的互斥访问，同时保证系统性能，需要遵循以下规则"><a href="#为了实现临界资源的互斥访问，同时保证系统性能，需要遵循以下规则" class="headerlink" title="为了实现临界资源的互斥访问，同时保证系统性能，需要遵循以下规则"></a>为了实现临界资源的互斥访问，同时保证系统性能，需要遵循以下规则</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911100921030.png" alt="image-20220911100921030" style="zoom:50%;" />

<h3 id="总结-11"><a href="#总结-11" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><img src="操作系统(王道+操作系统导论).assets/image-20220911100952166.png" alt="image-20220911100952166" style="zoom:67%;" />



<h3 id="锁"><a href="#锁" class="headerlink" title="锁"></a>锁</h3><blockquote>
<p>给进入临界资源的进程加锁，实现不同进程对临界资源的互斥访问</p>
</blockquote>
<h4 id="Pthread锁"><a href="#Pthread锁" class="headerlink" title="Pthread锁"></a>Pthread锁</h4><ul>
<li>p220</li>
</ul>
<h4 id="自旋锁"><a href="#自旋锁" class="headerlink" title="自旋锁"></a>自旋锁</h4><blockquote>
<p>一直消耗时间片但什么也不做，浪费cpu资源</p>
</blockquote>
<ul>
<li>p223</li>
</ul>
<h3 id="基于锁的并发数据结构"><a href="#基于锁的并发数据结构" class="headerlink" title="基于锁的并发数据结构"></a>基于锁的并发数据结构</h3><blockquote>
<p>当有多个线程进行时如何对数据结构进行操作（在并发的同时如何通过加锁互斥的进行对数据结构的各种操作）</p>
<p>p237</p>
</blockquote>
<h4 id="并发计数器"><a href="#并发计数器" class="headerlink" title="并发计数器"></a>并发计数器</h4><blockquote>
<p>p237</p>
</blockquote>
<ul>
<li>简单的实现</li>
<li>可扩展的计数</li>
</ul>
<h4 id="并发链表"><a href="#并发链表" class="headerlink" title="并发链表"></a>并发链表</h4><blockquote>
<p>不同进程对链表的操作</p>
<p>p241</p>
</blockquote>
<ul>
<li><p>扩展链表</p>
</li>
<li><blockquote>
<p>每个节点并发（上锁释放锁）</p>
</blockquote>
<ul>
<li>过手锁（锁耦合）</li>
<li>会导致开销过大：频繁的获取锁，释放锁</li>
<li>p243</li>
</ul>
</li>
</ul>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul>
<li>当心锁和控制流</li>
<li>p244</li>
</ul>
<h4 id="并发队列"><a href="#并发队列" class="headerlink" title="并发队列"></a>并发队列</h4><blockquote>
<p>p244</p>
</blockquote>
<h4 id="并发散列表"><a href="#并发散列表" class="headerlink" title="并发散列表"></a>并发散列表</h4><blockquote>
<p>p245</p>
</blockquote>
<h3 id="条件变量"><a href="#条件变量" class="headerlink" title="条件变量"></a>条件变量</h3><blockquote>
<p>p249</p>
<p>条件变量是一个显示队列</p>
</blockquote>
<ul>
<li><p>一个进程暂停执行，进入队列等待某一条件成立的场景</p>
</li>
<li><p>生产者消费者问题</p>
</li>
</ul>
<h4 id="覆盖条件"><a href="#覆盖条件" class="headerlink" title="覆盖条件"></a>覆盖条件</h4><ul>
<li>保守策略</li>
<li>在不知道应该在条件变量（显示队列）上唤醒哪个进程时，全部唤醒</li>
</ul>
<h4 id="虚假唤醒"><a href="#虚假唤醒" class="headerlink" title="虚假唤醒"></a>虚假唤醒</h4><p>虚假唤醒(spurious wakeup)在采用条件等待时，我们使用的是 </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">while</span>(条件不满足)&#123; </span><br><span class="line">   <span class="built_in">pthread_cond_wait</span>(cond, mutex); </span><br><span class="line">&#125; </span><br><span class="line"> <span class="comment">//而不是: </span></span><br><span class="line"> <span class="built_in">If</span>( 条件不满足 )&#123; </span><br><span class="line">   <span class="built_in">pthread_cond_wait</span>(cond,mutex); </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<blockquote>
<p> 这是因为可能会存在虚假唤醒”spurious wakeup”的情况。 </p>
</blockquote>
<ul>
<li>也就是说，即使没有线程调用condition_signal, 原先调用condition_wait的函数也可能会返回。此时线程被唤醒了，但是条件并不满足，这个时候<strong>如果不对条件进行检查而往下执行</strong>(例如书p256)，就可能会导致后续的处理出现错误。 </li>
<li>虚假唤醒在linux的多处理器系统中&#x2F;在程序接收到信号时可能回发生。在Windows系统和JAVA虚拟机上也存在。在系统设计时应该可以避免虚假唤醒，但是这会影响条件变量的执行效率，而既然通过while循环就能避免虚假唤醒造成的错误，因此程序的逻辑就变成了while循环的情况。 </li>
<li>注意：即使是虚假唤醒的情况，线程也是在成功锁住mutex后才能从condition_wait()中返回。即使存在多个线程被虚假唤醒，但是也只能是一个线程一个线程的顺序执行，也即：lock(mutex)  检查&#x2F;处理  condition_wai()或者unlock(mutex)来解锁.</li>
</ul>
<h3 id="进程互斥-软件-实现方法"><a href="#进程互斥-软件-实现方法" class="headerlink" title="进程互斥&#x3D;&#x3D;软件&#x3D;&#x3D;实现方法"></a>进程互斥&#x3D;&#x3D;软件&#x3D;&#x3D;实现方法</h3><h4 id="单标志法——问题：？？其他就不会出现空闲让进吗？？"><a href="#单标志法——问题：？？其他就不会出现空闲让进吗？？" class="headerlink" title="单标志法——问题：？？其他就不会出现空闲让进吗？？"></a>单标志法——问题：？？其他就不会出现空闲让进吗？？</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911101607954.png" alt="image-20220911101607954" style="zoom:50%;" />



<h4 id="双标志先检查法——问题：一起进入"><a href="#双标志先检查法——问题：一起进入" class="headerlink" title="双标志先检查法——问题：一起进入"></a>双标志先检查法——问题：一起进入</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911102138224.png" alt="image-20220911102138224" style="zoom:50%;" />



<h4 id="双标志后检查法——问题：一起等待"><a href="#双标志后检查法——问题：一起等待" class="headerlink" title="双标志后检查法——问题：一起等待"></a>双标志后检查法——问题：一起等待</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911102511655.png" alt="image-20220911102511655" style="zoom:50%;" />



<h4 id="Peterson算法"><a href="#Peterson算法" class="headerlink" title="Peterson算法"></a>Peterson算法</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911103439047.png" alt="image-20220911103439047" style="zoom: 50%;" />



<h4 id="总结-12"><a href="#总结-12" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911103520021.png" alt="image-20220911103520021" style="zoom:50%;" />



<h3 id="进程互斥-硬件-实现方法"><a href="#进程互斥-硬件-实现方法" class="headerlink" title="进程互斥&#x3D;&#x3D;硬件&#x3D;&#x3D;实现方法"></a>进程互斥&#x3D;&#x3D;硬件&#x3D;&#x3D;实现方法</h3><h4 id="中断屏蔽法"><a href="#中断屏蔽法" class="headerlink" title="中断屏蔽法"></a>中断屏蔽法</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911105032201.png" alt="image-20220911105032201" style="zoom:50%;" />

<h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><ul>
<li>简单、高效</li>
</ul>
<h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h5><ul>
<li>不适用于多处理机（可能导致多台处理机同时访问临界资源）</li>
<li>只适用于操作系统内核进程，不适用于用户进程（因为开&#x2F;关中断指令只能运行在内核态，这组指令如果让用户随意使用会很危险）</li>
</ul>
<h4 id="TestAndSet指令"><a href="#TestAndSet指令" class="headerlink" title="TestAndSet指令"></a>TestAndSet指令</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911105827061.png" alt="image-20220911105827061" style="zoom:50%;" />



<h4 id="Swap指令"><a href="#Swap指令" class="headerlink" title="Swap指令"></a>Swap指令</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911110454494.png" alt="image-20220911110454494" style="zoom:50%;" />



<h4 id="CompareAndSwap指令"><a href="#CompareAndSwap指令" class="headerlink" title="CompareAndSwap指令"></a>CompareAndSwap指令</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">CompareAndSwap</span><span class="params">(<span class="type">int</span> *ptr,<span class="type">int</span> expected,<span class="type">int</span> <span class="keyword">new</span>)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> actual=*ptr;</span><br><span class="line">    <span class="keyword">if</span>(actual=expected)</span><br><span class="line">        *ptr=<span class="keyword">new</span>;</span><br><span class="line">    <span class="keyword">return</span> actual;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="链接加载和条件式存储"><a href="#链接加载和条件式存储" class="headerlink" title="链接加载和条件式存储"></a>链接加载和条件式存储</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Loadlinked</span><span class="params">(<span class="type">int</span> *ptr)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> *ptr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">StoreConditonal</span><span class="params">(<span class="type">int</span> *ptr,<span class="type">int</span> value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(no one has updeated *ptr since the Loadlinked to <span class="keyword">this</span> address)&#123;</span><br><span class="line">		*ptr=value;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;<span class="comment">//success!</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o;<span class="comment">//failed to update</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">lock</span><span class="params">(<span class="type">lock_t</span> *lock)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="keyword">while</span>(<span class="built_in">Loadlinked</span>(&amp;lock-&gt;flag)==<span class="number">1</span>)</span><br><span class="line">            ;<span class="comment">//spin until it&#x27;s zero</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">StoreConditonal</span>(&amp;lock-&gt;flag,<span class="number">1</span>)==<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span>;<span class="comment">// if set-it-to-1 was a success:all done</span></span><br><span class="line">        		   <span class="comment">// otherwise:try it all over again</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">unlock</span><span class="params">(<span class="type">lock_t</span> *lock)</span></span>&#123;</span><br><span class="line">	lock-&gt;flag==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="fetch-and-add指令"><a href="#fetch-and-add指令" class="headerlink" title="fetch-and-add指令"></a>fetch-and-add指令</h4><blockquote>
<p>不同于之前的方法：本方法能够保证所有线程都能抢到锁。只要一个线程获得了ticket值，它最终会被调度。之前的方法不能够保证。比如基于test-and-set的方法，一个线程有可能一直自旋，即使其他线程在获取和释放锁</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">FetchAndAdd</span><span class="params">(<span class="type">int</span> *ptr)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> old=*ptr;</span><br><span class="line">    *ptr=old+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> old;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">lock_t</span>&#123;</span><br><span class="line">    <span class="type">int</span> ticket;</span><br><span class="line">    <span class="type">int</span> turn;</span><br><span class="line">&#125;<span class="type">lock_t</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">lock_init</span><span class="params">(<span class="type">lock_t</span> *lock)</span></span>&#123;</span><br><span class="line">    lock-&gt;ticket=<span class="number">0</span>;</span><br><span class="line">    lock-&gt;turn=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">lock</span><span class="params">(<span class="type">lock_t</span> *lock)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> myturn = <span class="built_in">FetchAndAdd</span>(&amp;lock-&gt;ticket);</span><br><span class="line">    <span class="keyword">while</span>(lock-&gt;turn!=myturn)</span><br><span class="line">        ;<span class="comment">//spin</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">unlock</span><span class="params">(<span class="type">lock_t</span> *lock)</span></span>&#123;</span><br><span class="line">    <span class="built_in">FetchAndAdd</span>(&amp;lock-&gt;turn);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="总结-13"><a href="#总结-13" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911110439661.png" alt="image-20220911110439661" style="zoom:50%;" />





<h3 id="自旋过多怎么办"><a href="#自旋过多怎么办" class="headerlink" title="自旋过多怎么办"></a>自旋过多怎么办</h3><h4 id="放弃CPU"><a href="#放弃CPU" class="headerlink" title="放弃CPU"></a>放弃CPU</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    flag=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">lock</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">TestAndSet</span>(&amp;flag,<span class="number">1</span>)==<span class="number">1</span>)</span><br><span class="line">        <span class="built_in">yield</span>();<span class="comment">//give up the CPU       yield:退让</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">unlock</span><span class="params">()</span></span>&#123;</span><br><span class="line">    flag=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>yeild()系统调用<ul>
<li>能够让运行(running)态变为就绪(ready)态，从而允许其他线程运行</li>
</ul>
</li>
</ul>
<h4 id="使用队列：休眠代替自旋"><a href="#使用队列：休眠代替自旋" class="headerlink" title="使用队列：休眠代替自旋"></a>使用队列：休眠代替自旋</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



















<h3 id="信息量机制"><a href="#信息量机制" class="headerlink" title="信息量机制"></a>信息量机制</h3><img src="操作系统(王道+操作系统导论).assets/image-20220911111232874.png" alt="image-20220911111232874" style="zoom:50%;" />

<h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911112440928.png" alt="image-20220911112440928" style="zoom:50%;" />

<h4 id="信号量"><a href="#信号量" class="headerlink" title="信号量"></a>信号量</h4><h5 id="整型信号量"><a href="#整型信号量" class="headerlink" title="整型信号量"></a>整型信号量</h5><img src="操作系统(王道+操作系统导论).assets/image-20220911112847286.png" alt="image-20220911112847286" style="zoom:50%;" />

<ul>
<li><em><strong>其中wait原语中while（S&lt;&#x3D;0）导致有一段时间在等待——问题是原语是不可中断的？？？</strong></em></li>
</ul>
<h5 id="记录型信号量——阻塞队列"><a href="#记录型信号量——阻塞队列" class="headerlink" title="记录型信号量——阻塞队列"></a>记录型信号量——阻塞队列</h5><img src="操作系统(王道+操作系统导论).assets/image-20220911114208367.png" alt="image-20220911114208367" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220911114358866.png" alt="image-20220911114358866" style="zoom:50%;" />



<h4 id="进程互斥-信号量-实现方法"><a href="#进程互斥-信号量-实现方法" class="headerlink" title="进程互斥&#x3D;&#x3D;信号量&#x3D;&#x3D;实现方法"></a>进程互斥&#x3D;&#x3D;信号量&#x3D;&#x3D;实现方法</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911115315832.png" alt="image-20220911115315832" style="zoom:50%;" />



<h4 id="进程同步-信号量-实现方法"><a href="#进程同步-信号量-实现方法" class="headerlink" title="进程同步&#x3D;&#x3D;信号量&#x3D;&#x3D;实现方法"></a>进程同步&#x3D;&#x3D;信号量&#x3D;&#x3D;实现方法</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911115759383.png" alt="image-20220911115759383" style="zoom:50%;" />



<h4 id="实现进程的前驱关系"><a href="#实现进程的前驱关系" class="headerlink" title="实现进程的前驱关系"></a>实现进程的前驱关系</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911120114907.png" alt="image-20220911120114907" style="zoom:50%;" />

<h4 id="总结-14"><a href="#总结-14" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220911120243663.png" alt="image-20220911120243663" style="zoom:50%;" />

<h4 id="p-v"><a href="#p-v" class="headerlink" title="p-v"></a>p-v</h4><h5 id="生产者-消费者问题"><a href="#生产者-消费者问题" class="headerlink" title="生产者-消费者问题"></a>生产者-消费者问题</h5><ul>
<li><em><strong>实现互斥的操作要放在实现同步操作之后避免死锁现象</strong></em></li>
</ul>
<img src="操作系统(王道+操作系统导论).assets/image-20220912095247671.png" alt="image-20220912095247671" style="zoom: 50%;" />



<h5 id="多生产者多消费者"><a href="#多生产者多消费者" class="headerlink" title="多生产者多消费者"></a>多生产者多消费者</h5><img src="操作系统(王道+操作系统导论).assets/image-20220912102105260.png" alt="image-20220912102105260" style="zoom:50%;" />



<h5 id="吸烟者问题"><a href="#吸烟者问题" class="headerlink" title="吸烟者问题"></a>吸烟者问题</h5><img src="操作系统(王道+操作系统导论).assets/image-20220912102614874.png" alt="image-20220912102614874" style="zoom:50%;" />



<h5 id="读者-写者问题"><a href="#读者-写者问题" class="headerlink" title="读者-写者问题"></a>读者-写者问题</h5><ul>
<li><h4 id="如何实现-1"><a href="#如何实现-1" class="headerlink" title="如何实现"></a>如何实现</h4></li>
</ul>
<img src="操作系统(王道+操作系统导论).assets/image-20220912104716532.png" alt="image-20220912104716532" style="zoom:50%;" />



<h5 id="哲学家进餐问题"><a href="#哲学家进餐问题" class="headerlink" title="哲学家进餐问题"></a>哲学家进餐问题</h5><img src="操作系统(王道+操作系统导论).assets/image-20220912113250132.png" alt="image-20220912113250132" style="zoom:50%;" />

<img src="C:\Users\Estrella\AppData\Roaming\Typora\typora-user-images\image-20220912113347424.png" alt="image-20220912113347424" style="zoom: 67%;" />



<h3 id="管程"><a href="#管程" class="headerlink" title="管程"></a>管程</h3><h4 id="为什么要引入管程"><a href="#为什么要引入管程" class="headerlink" title="为什么要引入管程"></a>为什么要引入管程</h4><img src="操作系统(王道+操作系统导论).assets/image-20220912113631445.png" alt="image-20220912113631445" style="zoom:50%;" />



<h4 id="管程定义和基本特征"><a href="#管程定义和基本特征" class="headerlink" title="管程定义和基本特征"></a>管程定义和基本特征</h4><img src="操作系统(王道+操作系统导论).assets/image-20220912115330806.png" alt="image-20220912115330806" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220912115534010.png" alt="image-20220912115534010" style="zoom:50%;" />

<h4 id="总结-15"><a href="#总结-15" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220912115729084.png" alt="image-20220912115729084" style="zoom:50%;" />



<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220913092013915.png" alt="image-20220913092013915"></p>
<h2 id="非死锁的缺陷"><a href="#非死锁的缺陷" class="headerlink" title="非死锁的缺陷"></a>非死锁的缺陷</h2><blockquote>
<p>并发编程的缺陷之一</p>
<p>主要讨论两种：违反原子性缺陷和错误顺序缺陷</p>
</blockquote>
<h3 id="违反原子性缺陷"><a href="#违反原子性缺陷" class="headerlink" title="违反原子性缺陷"></a>违反原子性缺陷</h3><ul>
<li>即需要原子操作的指令没有原子操作（原子操作就是不能被打断的操作）</li>
</ul>
<h3 id="错误顺序缺陷"><a href="#错误顺序缺陷" class="headerlink" title="错误顺序缺陷"></a>错误顺序缺陷</h3><ul>
<li><p>例如默认数据已经初始化了然后调用，实际数据还没初始化</p>
</li>
<li><p>解决方案：用锁和条件变量（显示队列）</p>
</li>
</ul>
<h2 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h2><ul>
<li>在并发环境下，各进程因<em><strong>竞争资源</strong></em>而造成的一种<em><strong>互相等待对方手里的资源，导致各进程都阻塞，都无法向前推进</strong></em>的现象，这就是“死锁”。发生死锁后若无外力干涉，这些进程将无法向前推进。</li>
</ul>
<h3 id="死锁，饥饿和死循环的区别"><a href="#死锁，饥饿和死循环的区别" class="headerlink" title="死锁，饥饿和死循环的区别"></a>死锁，饥饿和死循环的区别</h3><img src="操作系统(王道+操作系统导论).assets/image-20220913092733666.png" alt="image-20220913092733666" style="zoom:50%;" />



<h3 id="死锁的必要条件"><a href="#死锁的必要条件" class="headerlink" title="死锁的必要条件"></a>死锁的必要条件</h3><img src="操作系统(王道+操作系统导论).assets/image-20220913093021480.png" alt="image-20220913093021480" style="zoom:50%;" />

<h4 id="操作系统导论中的死锁必要条件"><a href="#操作系统导论中的死锁必要条件" class="headerlink" title="操作系统导论中的死锁必要条件"></a>操作系统导论中的死锁必要条件</h4><ol>
<li>互斥：线程对于需要的资源进行互斥的访问（例如一个线程抢到锁）</li>
<li>持有并等待：线程获得的资源（例如已将持有的锁），同时又在等待其他资源（例如，需要获得的锁）。</li>
<li>非抢占：线程获得的资源（例如锁），不能被抢占</li>
<li>循环等待：线程之间存在一个环路，环路上每个线程都额外持有一个资源，而这个资源又是下一个线程要申请的</li>
</ol>
<ul>
<li>如果这4个条件有一个不能满足，死锁就不能发生</li>
</ul>
<p>​	</p>
<h3 id="总结-16"><a href="#总结-16" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><img src="操作系统(王道+操作系统导论).assets/image-20220913093441216.png" alt="image-20220913093441216" style="zoom:50%;" />



<h3 id="死锁的处理策略——预防死锁"><a href="#死锁的处理策略——预防死锁" class="headerlink" title="死锁的处理策略——预防死锁"></a>死锁的处理策略——预防死锁</h3><h4 id="破坏互斥条件"><a href="#破坏互斥条件" class="headerlink" title="破坏互斥条件"></a>破坏互斥条件</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914091642672.png" alt="image-20220914091642672" style="zoom:50%;" />

<h4 id="破坏不剥夺条件"><a href="#破坏不剥夺条件" class="headerlink" title="破坏不剥夺条件"></a>破坏不剥夺条件</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914091839004.png" alt="image-20220914091839004" style="zoom:50%;" />

<h5 id="操作系统导论中提及活锁的概念"><a href="#操作系统导论中提及活锁的概念" class="headerlink" title="操作系统导论中提及活锁的概念"></a>操作系统导论中提及活锁的概念</h5><ul>
<li><pre><code class="cpp">top: 
    lock(L1);
    if(tryLock(L2)==-1)&#123;
        unlock(L1);
        goto top;
    &#125;
</code></pre>
</li>
<li><p>注意，另一个线程可以使用相同加锁方式，但是是不同的加锁顺序（L2然后L1），线程仍然不会产生死锁。但是会引入一个新的问题：活锁（livelock）。两个线程可能一直重复这个序列，又同时都枪锁失败。</p>
</li>
</ul>
<h4 id="破坏请求和保持条件（持有并等待）"><a href="#破坏请求和保持条件（持有并等待）" class="headerlink" title="破坏请求和保持条件（持有并等待）"></a>破坏请求和保持条件（持有并等待）</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914092038167.png" alt="image-20220914092038167" style="zoom:50%;" />

<h4 id="破坏循环等待条件"><a href="#破坏循环等待条件" class="headerlink" title="破坏循环等待条件"></a>破坏循环等待条件</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914092348957.png" alt="image-20220914092348957" style="zoom:50%;" />

<ul>
<li>操作系统导论中针对第二点程序员可以自行对传入的参数进行调整顺序</li>
</ul>
<h4 id="总结-17"><a href="#总结-17" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914092409770.png" alt="image-20220914092409770" style="zoom:50%;" />



<h3 id="死锁的处理策略——避免死锁"><a href="#死锁的处理策略——避免死锁" class="headerlink" title="死锁的处理策略——避免死锁"></a>死锁的处理策略——避免死锁</h3><h4 id="什么是安全策略"><a href="#什么是安全策略" class="headerlink" title="什么是安全策略"></a>什么是安全策略</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914093143295.png" alt="image-20220914093143295" style="zoom:50%;" />





<h4 id="安全序列、不安全状态、死锁的联系"><a href="#安全序列、不安全状态、死锁的联系" class="headerlink" title="安全序列、不安全状态、死锁的联系"></a>安全序列、不安全状态、死锁的联系</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914093427382.png" alt="image-20220914093427382" style="zoom:50%;" />



<h4 id="银行家算法"><a href="#银行家算法" class="headerlink" title="银行家算法"></a>银行家算法</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914094030785.png" alt="image-20220914094030785" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220914094140327.png" alt="image-20220914094140327" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20220914094400340.png" alt="image-20220914094400340" style="zoom:50%;" />



<h4 id="总结-18"><a href="#总结-18" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914094442135.png" alt="image-20220914094442135" style="zoom:50%;" />



<h3 id="死锁的处理策略——检测和解除"><a href="#死锁的处理策略——检测和解除" class="headerlink" title="死锁的处理策略——检测和解除"></a>死锁的处理策略——检测和解除</h3><h4 id="死锁的检测"><a href="#死锁的检测" class="headerlink" title="死锁的检测"></a>死锁的检测</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914095001801.png" alt="image-20220914095001801" style="zoom:50%;" />

<h4 id="死锁的解除"><a href="#死锁的解除" class="headerlink" title="死锁的解除"></a>死锁的解除</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914100233393.png" alt="image-20220914100233393" style="zoom:50%;" />



<h4 id="总结-19"><a href="#总结-19" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><img src="操作系统(王道+操作系统导论).assets/image-20220914100353862.png" alt="image-20220914100353862" style="zoom:50%;" />



<h1 id="第三章"><a href="#第三章" class="headerlink" title="第三章"></a>第三章</h1><h2 id="内存的基础知识"><a href="#内存的基础知识" class="headerlink" title="内存的基础知识"></a>内存的基础知识</h2><img src="操作系统(王道+操作系统导论).assets/image-20220927233435448.png" alt="image-20220927233435448" style="zoom:50%;" />

<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220927234925690.png" alt="image-20220927234925690"></p>
<h2 id="内存管理的概念"><a href="#内存管理的概念" class="headerlink" title="内存管理的概念"></a>内存管理的概念</h2><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928103815815.png" alt="image-20220928103815815"></p>
<h2 id="覆盖与交换"><a href="#覆盖与交换" class="headerlink" title="覆盖与交换"></a>覆盖与交换</h2><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928104945243.png" alt="image-20220928104945243"></p>
<h3 id="覆盖技术"><a href="#覆盖技术" class="headerlink" title="覆盖技术"></a>覆盖技术</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928104757996.png" alt="image-20220928104757996"></p>
<h3 id="交换技术"><a href="#交换技术" class="headerlink" title="交换技术"></a>交换技术</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928104557541.png" alt="image-20220928104557541"></p>
<h3 id="总结-20"><a href="#总结-20" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928104718770.png" alt="image-20220928104718770"></p>
<h2 id="连续分配管理方式"><a href="#连续分配管理方式" class="headerlink" title="连续分配管理方式"></a>连续分配管理方式</h2><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928105947680.png" alt="image-20220928105947680"></p>
<h3 id="单一连续分配"><a href="#单一连续分配" class="headerlink" title="单一连续分配"></a>单一连续分配</h3><blockquote>
<p>产生内部碎片——块内的浪费</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928105250897.png" alt="image-20220928105250897"></p>
<h3 id="固定分区分配"><a href="#固定分区分配" class="headerlink" title="固定分区分配"></a>固定分区分配</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928105452739.png" alt="image-20220928105452739"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928105629140.png" alt="image-20220928105629140"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928105919026.png" alt="image-20220928105919026"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928110035114.png" alt="image-20220928110035114"></p>
<h3 id="动态分区分配"><a href="#动态分区分配" class="headerlink" title="动态分区分配"></a>动态分区分配</h3><blockquote>
<p>产生外部碎片</p>
<p>紧凑处理</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928110544000.png" alt="image-20220928110544000"></p>
<h3 id="总结-21"><a href="#总结-21" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928110759660.png" alt="image-20220928110759660"></p>
<h3 id="动态分区与分配算法"><a href="#动态分区与分配算法" class="headerlink" title="动态分区与分配算法"></a>动态分区与分配算法</h3><h4 id="首次适应算法"><a href="#首次适应算法" class="headerlink" title="首次适应算法"></a>首次适应算法</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928111406132.png" alt="image-20220928111406132"></p>
<h4 id="最佳适应算法"><a href="#最佳适应算法" class="headerlink" title="最佳适应算法"></a>最佳适应算法</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928111347571.png" alt="image-20220928111347571"></p>
<h4 id="最坏适应算法"><a href="#最坏适应算法" class="headerlink" title="最坏适应算法"></a>最坏适应算法</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928111549018.png" alt="image-20220928111549018"></p>
<h4 id="邻近适应算法"><a href="#邻近适应算法" class="headerlink" title="邻近适应算法"></a>邻近适应算法</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928111938021.png" alt="image-20220928111938021"></p>
<h4 id="总结-22"><a href="#总结-22" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220928112059913.png" alt="image-20220928112059913"></p>
<h3 id="连续分配方式的缺点"><a href="#连续分配方式的缺点" class="headerlink" title="连续分配方式的缺点"></a>连续分配方式的缺点</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929143654486.png" alt="image-20220929143654486"></p>
<h2 id="非连续分配管理方式"><a href="#非连续分配管理方式" class="headerlink" title="非连续分配管理方式"></a>非连续分配管理方式</h2><h3 id="基本分页存储管理-的基本概念"><a href="#基本分页存储管理-的基本概念" class="headerlink" title="&#x3D;&#x3D;基本分页存储管理&#x3D;&#x3D;的基本概念"></a>&#x3D;&#x3D;基本分页存储管理&#x3D;&#x3D;的基本概念</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929143937043.png" alt="image-20220929143937043"></p>
<p>&#x3D;&#x3D;<strong>注意页面和页框的区别</strong>&#x3D;&#x3D;</p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929144129324.png" alt="image-20220929144129324"></p>
<h4 id="如何实现地址的转换"><a href="#如何实现地址的转换" class="headerlink" title="如何实现地址的转换"></a>如何实现地址的转换</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929144700357.png" alt="image-20220929144700357"></p>
<img src="操作系统(王道+操作系统导论).assets/image-20220929144901370.png" alt="image-20220929144901370" style="zoom:50%;" />

<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929145322271.png" alt="image-20220929145322271"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929145543201.png" alt="image-20220929145543201"></p>
<h4 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929145609060.png" alt="image-20220929145609060"></p>
<h4 id="逻辑地址结构"><a href="#逻辑地址结构" class="headerlink" title="逻辑地址结构"></a>逻辑地址结构</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929145842562.png" alt="image-20220929145842562"></p>
<h4 id="页表——隐式页号"><a href="#页表——隐式页号" class="headerlink" title="页表——隐式页号"></a>页表——隐式页号</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929150604253.png" alt="image-20220929150604253"></p>
<h4 id="总结-23"><a href="#总结-23" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929150740306.png" alt="image-20220929150740306"></p>
<h3 id="基本地址变换机构"><a href="#基本地址变换机构" class="headerlink" title="基本地址变换机构"></a>基本地址变换机构</h3><h4 id="用页面来存页表项"><a href="#用页面来存页表项" class="headerlink" title="用页面来存页表项"></a><strong>用页面来存页表项</strong></h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929152247752.png" alt="image-20220929152247752"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929152916786.png" alt="image-20220929152916786"></p>
<h4 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929153507002.png" alt="image-20220929153507002"> 	</p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929153945754.png" alt="image-20220929153945754"></p>
<h4 id="总结-24"><a href="#总结-24" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929154310874.png" alt="image-20220929154310874"></p>
<h3 id="具有快表的地址转换机构"><a href="#具有快表的地址转换机构" class="headerlink" title="具有快表的地址转换机构"></a>具有快表的地址转换机构</h3><blockquote>
<p>是基本地址变换机构的改进版本</p>
<p>局部性原理</p>
<p>​	空间局部性、时间局部性</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929161519767.png" alt="image-20220929161519767"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929162253194.png" alt="image-20220929162253194"></p>
<h4 id="快表（TLB）"><a href="#快表（TLB）" class="headerlink" title="快表（TLB）"></a>快表（TLB）</h4><blockquote>
<p>Translation Lookaside Buffer &#x2F; 可以理解为页表缓冲</p>
</blockquote>
<ul>
<li>TLB,cache 本身都是存储器，但TLB,CACHE材质相较于内存更好，访存更快，速度差距几十倍不等。 TLB本质上也是Cache，只不过是做为页表的Cache。</li>
<li>存在CPU中</li>
</ul>
<h5 id="TLB替换策略"><a href="#TLB替换策略" class="headerlink" title="TLB替换策略"></a>TLB替换策略</h5><ul>
<li>LRU（最近最少使用策略）</li>
<li>随机策略</li>
<li>实际系统的TLB表项</li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221008163953237.png" alt="image-20221008163953237"></p>
<h4 id="多处理器（CPU）调度"><a href="#多处理器（CPU）调度" class="headerlink" title="多处理器（CPU）调度"></a>多处理器（CPU）调度</h4><blockquote>
<p>p74</p>
</blockquote>
<h5 id="缓存一致性"><a href="#缓存一致性" class="headerlink" title="缓存一致性"></a>缓存一致性</h5><ul>
<li>不同CPU上，假设一个CPU修改了进程的地址，另一个CPU的缓存上保存的还是之前的</li>
<li>所以每个缓存需要通过监听链接所有的缓存和内存的总线，来发现内存访问，如果CPU发现对它放在缓存中的数据的更新，会作废(invalidate)本地副本（从缓存中移除）</li>
</ul>
<h5 id="缓存亲和性"><a href="#缓存亲和性" class="headerlink" title="缓存亲和性"></a>缓存亲和性</h5><ul>
<li>尽可能让进程保持在同一个CPU上</li>
</ul>
<h5 id="单队列调度SQMS"><a href="#单队列调度SQMS" class="headerlink" title="单队列调度SQMS"></a>单队列调度SQMS</h5><blockquote>
<p>Single Queue Multiprocessor Scheduling</p>
</blockquote>
<ul>
<li>单队列多处理器调度</li>
<li>复用单处理器调度的基本架构</li>
<li>负载均衡，但是缓存亲和性低<ul>
<li>解决<ul>
<li>牺牲其他工作的亲和度来实现负载均衡和提高缓存亲和度</li>
<li>p77</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="多队列调度MQMS"><a href="#多队列调度MQMS" class="headerlink" title="多队列调度MQMS"></a>多队列调度MQMS</h5><blockquote>
<p>Multi-Queue Multiprocessor Scheduling</p>
<p>p77</p>
</blockquote>
<ul>
<li>缓存亲和度高，负载不均<ul>
<li>解决<ul>
<li>迁移：找到合适的阈值进行迁移</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="引入快表后，地址的变换过程"><a href="#引入快表后，地址的变换过程" class="headerlink" title="引入快表后，地址的变换过程"></a>引入快表后，地址的变换过程</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929162814330.png" alt="image-20220929162814330"></p>
<h4 id="总结-25"><a href="#总结-25" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929163004207.png" alt="image-20220929163004207"></p>
<h3 id="两级页表"><a href="#两级页表" class="headerlink" title="两级页表"></a>两级页表</h3><h4 id="问题一-：-单个页表占用连续页框"><a href="#问题一-：-单个页表占用连续页框" class="headerlink" title="问题一 ：&#x3D;&#x3D;单个页表占用连续页框&#x3D;&#x3D;"></a>问题一 ：&#x3D;&#x3D;单个页表占用连续页框&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929164732893.png" alt="image-20220929164732893"></p>
<h5 id="两级页表的原理、地址结构"><a href="#两级页表的原理、地址结构" class="headerlink" title="两级页表的原理、地址结构"></a>两级页表的原理、地址结构</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929170325926.png" alt="image-20220929170325926"></p>
<h5 id="如何实现地址转换——两级页表"><a href="#如何实现地址转换——两级页表" class="headerlink" title="如何实现地址转换——两级页表"></a>如何实现地址转换——两级页表</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929171032915.png" alt="image-20220929171032915"></p>
<h4 id="问题二"><a href="#问题二" class="headerlink" title="问题二"></a>问题二</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929171455804.png" alt="image-20220929171455804"></p>
<h4 id="需要注意的几个细节"><a href="#需要注意的几个细节" class="headerlink" title="需要注意的几个细节"></a>需要注意的几个细节</h4><blockquote>
<p>为了让一个页面存放一个页表，各级页表的大小不能超过一个页面</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929172627018.png" alt="image-20220929172627018"></p>
<h4 id="总结-26"><a href="#总结-26" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20220929172650896.png" alt="image-20220929172650896"></p>
<h3 id="基本分段存储管理-方式"><a href="#基本分段存储管理-方式" class="headerlink" title="&#x3D;&#x3D;基本分段存储管理&#x3D;&#x3D;方式"></a>&#x3D;&#x3D;基本分段存储管理&#x3D;&#x3D;方式</h3><blockquote>
<p>按逻辑段拆分进程</p>
</blockquote>
<h4 id="分段"><a href="#分段" class="headerlink" title="分段"></a>分段</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001104309513.png" alt="image-20221001104309513"></p>
<h4 id="段表"><a href="#段表" class="headerlink" title="段表"></a>段表</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001104702406.png" alt="image-20221001104702406"></p>
<h4 id="地址转换"><a href="#地址转换" class="headerlink" title="地址转换"></a>地址转换</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001105225830.png" alt="image-20221001105225830"></p>
<h4 id="总结-27"><a href="#总结-27" class="headerlink" title="总结"></a>总结</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001110602549.png" alt="image-20221001110602549"></p>
<h3 id="分段、分页管理的对比"><a href="#分段、分页管理的对比" class="headerlink" title="分段、分页管理的对比"></a>分段、分页管理的对比</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001110224066.png" alt="image-20221001110224066"></p>
<ul>
<li><h4 id="分段的地址空间是二维的：因为分段的每个段的长度不同，需要检查偏移量是否越界，所以要传入段内地址"><a href="#分段的地址空间是二维的：因为分段的每个段的长度不同，需要检查偏移量是否越界，所以要传入段内地址" class="headerlink" title="分段的地址空间是二维的：因为分段的每个段的长度不同，需要检查偏移量是否越界，所以要传入段内地址"></a><strong>分段的地址空间是二维的：因为分段的每个段的长度不同，需要检查偏移量是否越界，所以要传入段内地址</strong></h4></li>
</ul>
<hr>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001105932915.png" alt="image-20221001105932915"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001110135749.png" alt="image-20221001110135749"></p>
<h4 id="汇总"><a href="#汇总" class="headerlink" title="汇总"></a>汇总</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001110323594.png" alt="image-20221001110323594"></p>
<h3 id="段页式分段管理"><a href="#段页式分段管理" class="headerlink" title="&#x3D;&#x3D;段页式分段管理&#x3D;&#x3D;"></a>&#x3D;&#x3D;段页式分段管理&#x3D;&#x3D;</h3><h4 id="分页、分段优缺点分析"><a href="#分页、分段优缺点分析" class="headerlink" title="分页、分段优缺点分析"></a>分页、分段优缺点分析</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001110934151.png" alt="image-20221001110934151"></p>
<h4 id="分段-分页-段页式管理"><a href="#分段-分页-段页式管理" class="headerlink" title="分段+分页&#x3D;段页式管理"></a>分段+分页&#x3D;段页式管理</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001111129821.png" alt="image-20221001111129821"></p>
<h4 id="段页式管理的逻辑地址结构"><a href="#段页式管理的逻辑地址结构" class="headerlink" title="段页式管理的逻辑地址结构"></a>段页式管理的逻辑地址结构</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001111912090.png" alt="image-20221001111912090"></p>
<h4 id="段表、页表"><a href="#段表、页表" class="headerlink" title="段表、页表"></a>段表、页表</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001112158429.png" alt="image-20221001112158429"></p>
<h4 id="地址转换-1"><a href="#地址转换-1" class="headerlink" title="地址转换"></a>地址转换</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001112516685.png" alt="image-20221001112516685"></p>
<h4 id="总结-28"><a href="#总结-28" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001112917444.png" alt="image-20221001112917444"></p>
<h2 id="虚拟内存的基本概念"><a href="#虚拟内存的基本概念" class="headerlink" title="虚拟内存的基本概念"></a>虚拟内存的基本概念</h2><h3 id="传统存储管理方式的特征，缺点"><a href="#传统存储管理方式的特征，缺点" class="headerlink" title="传统存储管理方式的特征，缺点"></a>传统存储管理方式的特征，缺点</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001140143549.png" alt="image-20221001140143549"></p>
<h3 id="局部性原理"><a href="#局部性原理" class="headerlink" title="局部性原理"></a>局部性原理</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001140448995.png" alt="image-20221001140448995"></p>
<h3 id="虚拟内存的定义和特征"><a href="#虚拟内存的定义和特征" class="headerlink" title="虚拟内存的定义和特征"></a>虚拟内存的定义和特征</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001140750228.png" alt="image-20221001140750228"></p>
<hr>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001140654529.png" alt="image-20221001140654529"></p>
<h3 id="如何实现虚拟存储技术"><a href="#如何实现虚拟存储技术" class="headerlink" title="如何实现虚拟存储技术"></a>如何实现虚拟存储技术</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001140943964.png" alt="image-20221001140943964"></p>
<h3 id="总结-29"><a href="#总结-29" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001141111146.png" alt="image-20221001141111146"></p>
<h3 id="请求分页管理方式"><a href="#请求分页管理方式" class="headerlink" title="请求分页管理方式"></a>请求分页管理方式</h3><blockquote>
<p>虚拟技术和非连续分配管理方式的结合</p>
</blockquote>
<h4 id="页表机制"><a href="#页表机制" class="headerlink" title="页表机制"></a>页表机制</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001141501593.png" alt="image-20221001141501593"></p>
<h4 id="缺页中断机构"><a href="#缺页中断机构" class="headerlink" title="缺页中断机构"></a>缺页中断机构</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001141701572.png" alt="image-20221001141701572"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001141825615.png" alt="image-20221001141825615"></p>
<h4 id="地址变换机构"><a href="#地址变换机构" class="headerlink" title="地址变换机构"></a>地址变换机构</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001142049905.png" alt="image-20221001142049905"></p>
<h4 id="地址转换流程"><a href="#地址转换流程" class="headerlink" title="地址转换流程"></a>地址转换流程</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001142212793.png" alt="image-20221001142212793"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001142731470.png" alt="image-20221001142731470"></p>
<h4 id="总结-30"><a href="#总结-30" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001142920570.png" alt="image-20221001142920570"></p>
<h3 id="页面置换算法—调出驻留集"><a href="#页面置换算法—调出驻留集" class="headerlink" title="页面置换算法—调出驻留集"></a>页面置换算法—调出<del>驻留集</del></h3><blockquote>
<p>页面的换入、换出需要磁盘I&#x2F;O,会有较大的开销，因此好的页面置换算法应该追求最少的缺页率</p>
<p><strong>适用于&#x3D;&#x3D;缓存&#x3D;&#x3D;的替换</strong></p>
</blockquote>
<h4 id="最佳置换算法（OPT）"><a href="#最佳置换算法（OPT）" class="headerlink" title="最佳置换算法（OPT）"></a>最佳置换算法（OPT）</h4><blockquote>
<p>OPT : optimal</p>
<p>理想化算法，在实际应用中无法实现</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001143745627.png" alt="image-20221001143745627"></p>
<p>​	<img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001143832702.png" alt="image-20221001143832702"></p>
<h4 id="先进先出置换算法（FIFO）"><a href="#先进先出置换算法（FIFO）" class="headerlink" title="先进先出置换算法（FIFO）"></a>先进先出置换算法（FIFO）</h4><blockquote>
<p>FIFO : First In First Out</p>
<p>页面置换算法中只有FIFO会产生belady异常</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001144219428.png" alt="image-20221001144219428"></p>
<h4 id="最近最久-未使用算法（LRU）"><a href="#最近最久-未使用算法（LRU）" class="headerlink" title="&#x3D;&#x3D;最近最久&#x3D;&#x3D;未使用算法（LRU）"></a>&#x3D;&#x3D;最近最久&#x3D;&#x3D;未使用算法（LRU）</h4><blockquote>
<p>Last Recently used</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001150320283.png" alt="image-20221001150320283"></p>
<h4 id="时钟置换算法（CLOCK）-最近-未用算法（NRU）"><a href="#时钟置换算法（CLOCK）-最近-未用算法（NRU）" class="headerlink" title="时钟置换算法（CLOCK）&#x2F; &#x3D;&#x3D;最近&#x3D;&#x3D;未用算法（NRU）"></a>时钟置换算法（CLOCK）&#x2F; &#x3D;&#x3D;最近&#x3D;&#x3D;未用算法（NRU）</h4><blockquote>
<p>NRU : Not Recently used</p>
</blockquote>
<h5 id="简单的时钟置换算法"><a href="#简单的时钟置换算法" class="headerlink" title="简单的时钟置换算法"></a>简单的时钟置换算法</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001150939466.png" alt="image-20221001150939466"></p>
<h5 id="改进型的时钟置换算法"><a href="#改进型的时钟置换算法" class="headerlink" title="改进型的时钟置换算法"></a>改进型的时钟置换算法</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001151517913.png" alt="image-20221001151517913"></p>
<h4 id="总结-31"><a href="#总结-31" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001151559264.png" alt="image-20221001151559264"></p>
<ul>
<li><h2 id="随机策略：不会出现特殊情况下奇怪的结果"><a href="#随机策略：不会出现特殊情况下奇怪的结果" class="headerlink" title="随机策略：不会出现特殊情况下奇怪的结果"></a>随机策略：不会出现特殊情况下奇怪的结果</h2></li>
</ul>
<h3 id="页面分配、置换策略（调入驻留集）"><a href="#页面分配、置换策略（调入驻留集）" class="headerlink" title="页面分配、置换策略（调入驻留集）"></a>页面分配、置换策略（调入<del>驻留集</del>）</h3><h4 id="驻留集"><a href="#驻留集" class="headerlink" title="驻留集"></a>驻留集</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001160126054.png" alt="image-20221001160126054"></p>
<hr>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001160145266.png" alt="image-20221001160145266"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001155134409.png" alt="image-20221001155134409"></p>
<h4 id="何时调入页面"><a href="#何时调入页面" class="headerlink" title="何时调入页面"></a>何时调入页面</h4><blockquote>
<p>如果页存在内存中会被标记为有效的，反之会被标记无效的（有效位）</p>
<p>页错误：内存中缺页，通过页表查找到这些页在磁盘的什么位置，在用交换技术将磁盘中的页交换进内存</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001155533452.png" alt="image-20221001155533452"></p>
<h4 id="何处调入页面"><a href="#何处调入页面" class="headerlink" title="何处调入页面"></a>何处调入页面</h4><img src="操作系统(王道+操作系统导论).assets/image-20221001155809355.png" alt="image-20221001155809355" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221001155803418.png" alt="image-20221001155803418" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221001155847491.png" alt="image-20221001155847491" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221001155934266.png" alt="image-20221001155934266" style="zoom:50%;" />





<img src="操作系统(王道+操作系统导论).assets/image-20221001160024979.png" alt="image-20221001160024979" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221001160034777.png" alt="image-20221001160034777" style="zoom:50%;" />





<h4 id="抖动（颠簸）现象"><a href="#抖动（颠簸）现象" class="headerlink" title="抖动（颠簸）现象"></a>抖动（颠簸）现象</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001160315101.png" alt="image-20221001160315101"></p>
<h5 id="工作集"><a href="#工作集" class="headerlink" title="工作集"></a>工作集</h5><blockquote>
<p>为了研究应该为每个进程分配多少个物理块，Denning提出了进程“工作集”的概念</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001160542094.png" alt="image-20221001160542094"></p>
<h4 id="总结-32"><a href="#总结-32" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221001160908701.png" alt="image-20221001160908701"></p>
<h1 id="第四章"><a href="#第四章" class="headerlink" title="第四章"></a>第四章</h1><h2 id="初始文件管理"><a href="#初始文件管理" class="headerlink" title="初始文件管理"></a>初始文件管理</h2><h3 id="操作系统向上提供了哪些功能"><a href="#操作系统向上提供了哪些功能" class="headerlink" title="操作系统向上提供了哪些功能"></a>操作系统向上提供了哪些功能</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002092022988.png" alt="image-20221002092022988"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002092121205.png" alt="image-20221002092121205"></p>
<h3 id="从上往下看，文件应如何存入到外存"><a href="#从上往下看，文件应如何存入到外存" class="headerlink" title="从上往下看，文件应如何存入到外存"></a>从上往下看，文件应如何存入到外存</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002092454206.png" alt="image-20221002092454206"></p>
<h3 id="其他需要操作系统实现的文件管理功能"><a href="#其他需要操作系统实现的文件管理功能" class="headerlink" title="其他需要操作系统实现的文件管理功能"></a>其他需要操作系统实现的文件管理功能</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002092621819.png" alt="image-20221002092621819"></p>
<h3 id="总结-——框架"><a href="#总结-——框架" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;——框架"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;——框架</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002092641570.png" alt="image-20221002092641570"></p>
<h2 id="文件的逻辑结构"><a href="#文件的逻辑结构" class="headerlink" title="文件的逻辑结构"></a>文件的逻辑结构</h2><blockquote>
<p>所谓的“逻辑结构”，就是指在用户看来，文件<strong>内部</strong>的数据应该是如何组织起来的。</p>
<p>而“物理结构”指的是在操作系统看来，文件的（内部）数据是如何存放到外存中的</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002093222636.png" alt="image-20221002093222636"></p>
<h3 id="无结构文件"><a href="#无结构文件" class="headerlink" title="无结构文件"></a>无结构文件</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002093322665.png" alt="image-20221002093322665"></p>
<h3 id="有结构文件"><a href="#有结构文件" class="headerlink" title="有结构文件"></a>有结构文件</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002093450318.png" alt="image-20221002093450318"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002093508650.png" alt="image-20221002093508650"></p>
<h4 id="定长记录"><a href="#定长记录" class="headerlink" title="定长记录"></a>定长记录</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002093527836.png" alt="image-20221002093527836"></p>
<h4 id="可变长记录"><a href="#可变长记录" class="headerlink" title="可变长记录"></a>可变长记录</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002093622699.png" alt="image-20221002093622699"></p>
<h3 id="有结构文件的逻辑结构"><a href="#有结构文件的逻辑结构" class="headerlink" title="有结构文件的逻辑结构"></a>有结构文件的逻辑结构</h3><h4 id="顺序文件"><a href="#顺序文件" class="headerlink" title="顺序文件"></a>顺序文件</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002094424918.png" alt="image-20221002094424918"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002094254381.png" alt="image-20221002094254381"></p>
<ul>
<li><h4 id="顺序文件可以定期写入外存，可以减少增删次数"><a href="#顺序文件可以定期写入外存，可以减少增删次数" class="headerlink" title="顺序文件可以定期写入外存，可以减少增删次数"></a><strong>顺序文件可以定期写入外存，可以减少增删次数</strong></h4></li>
</ul>
<h4 id="索引文件"><a href="#索引文件" class="headerlink" title="索引文件"></a>索引文件</h4><blockquote>
<p>解决可变长记录文件的查找开销大的问题—&gt;实现随机访问</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002094731133.png" alt="image-20221002094731133"></p>
<h4 id="索引顺序表"><a href="#索引顺序表" class="headerlink" title="索引顺序表"></a>索引顺序表</h4><blockquote>
<p>索引表的缺点：每个记录对应的一个索引表项，因此索引表可能会很大。</p>
<p>比如：文件的每个记录平均只占8B，而每个索引表项占32个字节，那么索引表都要比文件内容本身大4倍，这样对存储空间的利用率			就太低了</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002095945954.png" alt="image-20221002095945954"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002100005463.png" alt="image-20221002100005463"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002100050110.png" alt="image-20221002100050110"></p>
<h4 id="总结-33"><a href="#总结-33" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002100242310.png" alt="image-20221002100242310"></p>
<h3 id="总结-34"><a href="#总结-34" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002100119448.png" alt="image-20221002100119448"></p>
<h2 id="文件目录"><a href="#文件目录" class="headerlink" title="文件目录"></a>文件目录</h2><blockquote>
<img src="操作系统(王道+操作系统导论).assets/image-20221002100604604.png" alt="image-20221002100604604" style="zoom: 33%;" />
</blockquote>
<h3 id="文件控制块"><a href="#文件控制块" class="headerlink" title="文件控制块"></a>文件控制块</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002100833404.png" alt="image-20221002100833404"></p>
<hr>
<h4 id="FCB-目录项"><a href="#FCB-目录项" class="headerlink" title="FCB 目录项"></a>FCB <del>目录项</del></h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002101005343.png" alt="image-20221002101005343"></p>
<hr>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002101114412.png" alt="image-20221002101114412"></p>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><h4 id="单级目录结构"><a href="#单级目录结构" class="headerlink" title="单级目录结构"></a>单级目录结构</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002101334564.png" alt="image-20221002101334564"></p>
<h4 id="两级目录结构"><a href="#两级目录结构" class="headerlink" title="两级目录结构"></a>两级目录结构</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002101505251.png" alt="image-20221002101505251"></p>
<h4 id="多级目录结构-树形目录结构"><a href="#多级目录结构-树形目录结构" class="headerlink" title="多级目录结构 树形目录结构"></a>多级目录结构 <del>树形目录结构</del></h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002101803894.png" alt="image-20221002101803894"></p>
<h4 id="无环图目录结构"><a href="#无环图目录结构" class="headerlink" title="无环图目录结构"></a>无环图目录结构</h4><blockquote>
<p>由于树结构不便于实现文件的共享，提出了“无环图目录结构”</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002102051940.png" alt="image-20221002102051940"></p>
<h3 id="索引节点（FCB的改进）"><a href="#索引节点（FCB的改进）" class="headerlink" title="索引节点（FCB的改进）"></a>索引节点（FCB的改进）</h3><blockquote>
<p>使索引表瘦身，减少磁盘I&#x2F;O的开销，增加搜索效率</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002102631439.png" alt="image-20221002102631439"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002102737162.png" alt="image-20221002102737162"></p>
<h3 id="总结-35"><a href="#总结-35" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002102840341.png" alt="image-20221002102840341"></p>
<h2 id="文件的物理结构-文件的分配方式"><a href="#文件的物理结构-文件的分配方式" class="headerlink" title="文件的物理结构 文件的分配方式"></a>文件的物理结构 <del>文件的分配方式</del></h2><blockquote>
<p>即：文件数据应该怎样存放在外存中</p>
</blockquote>
<blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002103213063.png" alt="image-20221002103213063"></p>
</blockquote>
<h3 id="文件块、磁盘块"><a href="#文件块、磁盘块" class="headerlink" title="文件块、磁盘块"></a>文件块、磁盘块</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002104318288.png" alt="image-20221002104318288"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002104501708.png" alt="image-20221002104501708"></p>
<h3 id="文件分配方式"><a href="#文件分配方式" class="headerlink" title="文件分配方式"></a>文件分配方式</h3><h4 id="连续分配"><a href="#连续分配" class="headerlink" title="连续分配"></a>连续分配</h4><h5 id="地址转换-2"><a href="#地址转换-2" class="headerlink" title="地址转换"></a>地址转换</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002104850226.png" alt="image-20221002104850226"></p>
<h5 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002105010878.png" alt="image-20221002105010878"></p>
<h5 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002105125202.png" alt="image-20221002105125202"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002105219863.png" alt="image-20221002105219863"></p>
<h5 id="汇总-1"><a href="#汇总-1" class="headerlink" title="汇总"></a>汇总</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002110552875.png" alt="image-20221002110552875"></p>
<h4 id="链接分配-链式"><a href="#链接分配-链式" class="headerlink" title="链接分配 链式"></a>链接分配 <del>链式</del></h4><blockquote>
<p>不管是隐式分配或是显式分配，都需要从起始节点<strong>依次</strong>查找</p>
</blockquote>
<h5 id="隐式链接"><a href="#隐式链接" class="headerlink" title="隐式链接"></a>隐式链接</h5><h6 id="地址转换-3"><a href="#地址转换-3" class="headerlink" title="地址转换"></a>地址转换</h6><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002110834983.png" alt="image-20221002110834983"></p>
<h5 id="显式链接——文件分配表FAT"><a href="#显式链接——文件分配表FAT" class="headerlink" title="显式链接——文件分配表FAT"></a>显式链接——文件分配表FAT</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002111203163.png" alt="image-20221002111203163"></p>
<h6 id="地址转换-4"><a href="#地址转换-4" class="headerlink" title="地址转换"></a>地址转换</h6><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002111640713.png" alt="image-20221002111640713"></p>
<h5 id="总结-36"><a href="#总结-36" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002110914941.png" alt="image-20221002110914941"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002111652981.png" alt="image-20221002111652981"></p>
<h4 id="索引分配"><a href="#索引分配" class="headerlink" title="索引分配"></a>索引分配</h4><blockquote>
<p>目录中需要一个索引块（也是逻辑块，在外存中有对应的磁盘块）</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002112858515.png" alt="image-20221002112858515"></p>
<h5 id="地址转换-5"><a href="#地址转换-5" class="headerlink" title="地址转换"></a>地址转换</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002113230548.png" alt="image-20221002113230548"></p>
<h5 id="链接分配中显式分配-和-索引分配-区别"><a href="#链接分配中显式分配-和-索引分配-区别" class="headerlink" title="链接分配中显式分配 和 索引分配 &#x3D;&#x3D;区别&#x3D;&#x3D;"></a>链接分配中显式分配 和 索引分配 &#x3D;&#x3D;区别&#x3D;&#x3D;</h5><img src="操作系统(王道+操作系统导论).assets/image-20221002112656232.png" alt="image-20221002112656232" style="zoom:50%;" />





<h5 id="索引表太大的解决方案"><a href="#索引表太大的解决方案" class="headerlink" title="索引表太大的解决方案"></a>索引表太大的解决方案</h5><h6 id="链接方案"><a href="#链接方案" class="headerlink" title="链接方案"></a>链接方案</h6><blockquote>
<p>索引表在不同磁盘块是并行的，按索引表递增链接的</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002114340959.png" alt="image-20221002114340959"></p>
<h6 id="多层索引"><a href="#多层索引" class="headerlink" title="多层索引"></a>多层索引</h6><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002114818503.png" alt="image-20221002114818503"></p>
<img src="操作系统(王道+操作系统导论).assets/image-20221002114826714.png" alt="image-20221002114826714" style="zoom: 50%;" />



<h6 id="混合索引"><a href="#混合索引" class="headerlink" title="混合索引"></a>混合索引</h6><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002115150457.png" alt="image-20221002115150457"></p>
<h6 id="总结-37"><a href="#总结-37" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h6><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002115522192.png" alt="image-20221002115522192"></p>
<h4 id="总结-38"><a href="#总结-38" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002115749220.png" alt="image-20221002115749220"></p>
<h2 id="文件存储空间管理-空闲磁盘块"><a href="#文件存储空间管理-空闲磁盘块" class="headerlink" title="文件存储空间管理 空闲磁盘块"></a>文件存储空间管理 <del>空闲磁盘块</del></h2><blockquote>
<p>对空闲磁盘块管理</p>
</blockquote>
<h3 id="存储空间的划分与初始化"><a href="#存储空间的划分与初始化" class="headerlink" title="存储空间的划分与初始化"></a>存储空间的划分与初始化</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002135937148.png" alt="image-20221002135937148"></p>
<h3 id="存储空间管理"><a href="#存储空间管理" class="headerlink" title="存储空间管理"></a>存储空间管理</h3><h4 id="空闲表法"><a href="#空闲表法" class="headerlink" title="空闲表法"></a>空闲表法</h4><blockquote>
<p>适用于“连续分配方式”</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002140921578.png" alt="image-20221002140921578"></p>
<h4 id="空闲链表法"><a href="#空闲链表法" class="headerlink" title="空闲链表法"></a>空闲链表法</h4><h5 id="空闲盘块链"><a href="#空闲盘块链" class="headerlink" title="空闲盘块链"></a>空闲盘块链</h5><blockquote>
<p>以盘块为单位组成一条空闲链</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002141455292.png" alt="image-20221002141455292"></p>
<h5 id="空闲盘块区"><a href="#空闲盘块区" class="headerlink" title="空闲盘块区"></a>空闲盘块区</h5><blockquote>
<p>以盘区为单位组成一条空闲链</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002141624035.png" alt="image-20221002141624035"></p>
<h4 id="位视图法"><a href="#位视图法" class="headerlink" title="位视图法"></a>位视图法</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002142031220.png" alt="image-20221002142031220"></p>
<ul>
<li><h5 id="分配与回收"><a href="#分配与回收" class="headerlink" title="分配与回收"></a>分配与回收</h5></li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002142238486.png" alt="image-20221002142238486"></p>
<h4 id="成组链接法"><a href="#成组链接法" class="headerlink" title="成组链接法"></a>成组链接法</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002142412682.png" alt="image-20221002142412682"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002142900551.png" alt="image-20221002142900551"></p>
<ul>
<li><h3 id="201-299都被用了，不是空闲盘块"><a href="#201-299都被用了，不是空闲盘块" class="headerlink" title="201-299都被用了，不是空闲盘块"></a>201-299都被用了，不是空闲盘块</h3></li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221021172245702.png" alt="image-20221021172245702"></p>
<h5 id="如何分配"><a href="#如何分配" class="headerlink" title="如何分配"></a>如何分配</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002143007691.png" alt="image-20221002143007691"></p>
<h5 id="如何回收"><a href="#如何回收" class="headerlink" title="如何回收"></a>如何回收</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002143158073.png" alt="image-20221002143158073"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002143215281.png" alt="image-20221002143215281"></p>
<h4 id="总结-39"><a href="#总结-39" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002143425121.png" alt="image-20221002143425121"></p>
<h2 id="文件的基本操作"><a href="#文件的基本操作" class="headerlink" title="文件的基本操作"></a>文件的基本操作</h2><h3 id="创建文件"><a href="#创建文件" class="headerlink" title="创建文件"></a>创建文件</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002143646245.png" alt="image-20221002143646245"></p>
<h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002143745182.png" alt="image-20221002143745182"></p>
<h3 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h3><blockquote>
<p>系统只有一份打开表 &#x2F; 其他进程也会有打开表</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002143939901.png" alt="image-20221002143939901"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002144141769.png" alt="image-20221002144141769"></p>
<h3 id="关闭文件"><a href="#关闭文件" class="headerlink" title="关闭文件"></a>关闭文件</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002144229823.png" alt="image-20221002144229823"></p>
<h3 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002144432800.png" alt="image-20221002144432800"></p>
<h3 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h3><blockquote>
<p>懒惰（延迟）写入是一种美德</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002144558483.png" alt="image-20221002144558483"></p>
<h3 id="总结-40"><a href="#总结-40" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002144853210.png" alt="image-20221002144853210"></p>
<h2 id="文件共享"><a href="#文件共享" class="headerlink" title="文件共享"></a>文件共享</h2><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002144950283.png" alt="image-20221002144950283"></p>
<h3 id="基于索引节点的共享方式（硬链接）"><a href="#基于索引节点的共享方式（硬链接）" class="headerlink" title="基于索引节点的共享方式（硬链接）"></a>基于索引节点的共享方式（硬链接）</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002145418428.png" alt="image-20221002145418428"></p>
<h3 id="基于符号链的共享方式（软链接）快捷方式"><a href="#基于符号链的共享方式（软链接）快捷方式" class="headerlink" title="基于符号链的共享方式（软链接）快捷方式"></a>基于符号链的共享方式（软链接）<del>快捷方式</del></h3><blockquote>
<p>快捷方式（存放了从别的用户下的路径，然后一层一层去找）</p>
<p>所以软链接访问速度没有硬链接快</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002145548694.png" alt="image-20221002145548694">	<img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002145721281.png" alt="image-20221002145721281"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002145909542.png" alt="image-20221002145909542"></p>
<h3 id="总结-41"><a href="#总结-41" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002150213187.png" alt="image-20221002150213187"></p>
<h2 id="文件保护"><a href="#文件保护" class="headerlink" title="文件保护"></a>文件保护</h2><h3 id="口令保护"><a href="#口令保护" class="headerlink" title="口令保护"></a>口令保护</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002150918286.png" alt="image-20221002150918286"></p>
<h3 id="加密保护"><a href="#加密保护" class="headerlink" title="加密保护"></a>加密保护</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002151122928.png" alt="image-20221002151122928"></p>
<h3 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002151619056.png" alt="image-20221002151619056"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002151626217.png" alt="image-20221002151626217"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002151730366.png" alt="image-20221002151730366"></p>
<h3 id="总结-42"><a href="#总结-42" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002152045445.png" alt="image-20221002152045445"></p>
<h2 id="文件系统的层次结构-以上的汇总"><a href="#文件系统的层次结构-以上的汇总" class="headerlink" title="文件系统的层次结构 以上的汇总"></a>文件系统的层次结构 <del>以上的汇总</del></h2><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002152445520.png" alt="image-20221002152445520"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002152628063.png" alt="image-20221002152628063"></p>
<ul>
<li><h4 id="文件句柄"><a href="#文件句柄" class="headerlink" title="文件句柄"></a>文件句柄</h4></li>
</ul>
<blockquote>
<p>用于唯一地描述文件或目录</p>
</blockquote>
<ul>
<li>重要组件<ul>
<li>卷标识符</li>
<li>inode号</li>
<li>世代号</li>
</ul>
</li>
</ul>
<h2 id="崩溃一致性：FSCK和日志"><a href="#崩溃一致性：FSCK和日志" class="headerlink" title="崩溃一致性：FSCK和日志"></a>崩溃一致性：FSCK和日志</h2><blockquote>
<p>p380 </p>
</blockquote>
<h2 id="日志结构文件系统（LFS）"><a href="#日志结构文件系统（LFS）" class="headerlink" title="日志结构文件系统（LFS）"></a>日志结构文件系统（LFS）</h2><blockquote>
<p>Log-structured File System</p>
<p>copy</p>
<p>p395</p>
</blockquote>
<p><strong>核心</strong>：简单地讲所有更新（例如数据块、inode等）顺序写入（<em>缓存一段再写入</em>）磁盘的这一基本思想。</p>
<ul>
<li><p>inode映射解决了LFS中存在的一个问题：递归更新问题（recursive update problem）。</p>
<ul>
<li><blockquote>
<p>任何永远不会原地更新的文件系统（例如LFS）都会遇到该问题，它们将更新移到新位置。</p>
</blockquote>
</li>
<li><p>递归更新问题</p>
<ul>
<li>每当更新inode时，它在磁盘上的位置都会发生变化。如果我们不小心，这也会导致对指向该文件的目录的更新，然后必须更改该目录的父目录，一次类推，一路沿文件系统树向上。</li>
</ul>
</li>
<li><p>LFS巧妙地避免了inode映射地这个问题。即使inode地位置可能会发生变化，更改也不会反映在目录本身。事实上，imap结构被更新，而目录保持相同地名称到inumber地映射。因此，通过间接，LFS避免了递归更新问题。</p>
</li>
</ul>
</li>
<li><p>版本记录</p>
<ul>
<li>更新的文件不会覆盖旧文件</li>
<li>需要定期清理这些旧文件</li>
</ul>
</li>
</ul>
<p><strong>LSE</strong></p>
<blockquote>
<p>p407</p>
</blockquote>
<h2 id="磁盘的结构"><a href="#磁盘的结构" class="headerlink" title="磁盘的结构"></a>磁盘的结构</h2><h3 id="磁盘、磁道、扇区"><a href="#磁盘、磁道、扇区" class="headerlink" title="磁盘、磁道、扇区"></a>磁盘、磁道、扇区</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002155230769.png" alt="image-20221002155230769"></p>
<h3 id="如何在磁盘中读数据"><a href="#如何在磁盘中读数据" class="headerlink" title="如何在磁盘中读数据"></a>如何在磁盘中读数据</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002155334555.png" alt="image-20221002155334555"></p>
<h3 id="磁盘的物理地址"><a href="#磁盘的物理地址" class="headerlink" title="磁盘的物理地址"></a>磁盘的物理地址</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002155630315.png" alt="image-20221002155630315"></p>
<h3 id="磁盘的分类"><a href="#磁盘的分类" class="headerlink" title="磁盘的分类"></a>磁盘的分类</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002155722939.png" alt="image-20221002155722939"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002155744610.png" alt="image-20221002155744610"></p>
<h3 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h3><ul>
<li>顺序的使用磁盘<ul>
<li>尽可能以顺序方式将数据传输到磁盘，并从磁盘传输数据。如果顺序不可行，至少考虑以大块传输数据：越大越好。如果I&#x2F;O是以小而随机的方式完成的，则I&#x2F;O性能将受到显著的影响。</li>
</ul>
</li>
</ul>
<h3 id="总结-43"><a href="#总结-43" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002155808290.png" alt="image-20221002155808290"></p>
<h2 id="磁盘调度算法-寻道时间"><a href="#磁盘调度算法-寻道时间" class="headerlink" title="磁盘调度算法 寻道时间"></a>磁盘调度算法 <del>寻道时间</del></h2><h3 id="一次磁盘读-写操作需要的时间"><a href="#一次磁盘读-写操作需要的时间" class="headerlink" title="一次磁盘读&#x2F;写操作需要的时间"></a>一次磁盘读&#x2F;写操作需要的时间</h3><blockquote>
<p>平均寻道时间是完整时间的1&#x2F;3——证明：p320（积分）</p>
</blockquote>
<img src="操作系统(王道+操作系统导论).assets/image-20221002160742415.png" alt="image-20221002160742415" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221002160759249.png" alt="image-20221002160759249" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221002160919375.png" alt="image-20221002160919375" style="zoom:50%;" />

<ul>
<li><p><strong>延迟时间和传输时间都与磁盘转速相关，且为线性相关。而转速是硬件的固有属性，因此操作系统也无法优化延迟时间和传输时间</strong></p>
</li>
<li><p><strong>但是操作系统的磁盘调度算法会影响寻道时间</strong></p>
</li>
</ul>
<h3 id="先来先服务算法（FCFS）"><a href="#先来先服务算法（FCFS）" class="headerlink" title="先来先服务算法（FCFS）"></a>先来先服务算法（FCFS）</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002161536129.png" alt="image-20221002161536129"></p>
<h3 id="最短寻找时间优先算法（SSTF）"><a href="#最短寻找时间优先算法（SSTF）" class="headerlink" title="最短寻找时间优先算法（SSTF）"></a>最短寻找时间优先算法（SSTF）</h3><blockquote>
<p>问题：主机操作系统无法利用驱动器的几何结构而只会看到一系列块。</p>
<p>解决：操作系统可以简单地实现最近快优先（Nearest-Block-First,NBF）,而不是SSTF，然后用最近的快地址来调度请求</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002161923907.png" alt="image-20221002161923907"></p>
<h3 id="最短定位时间优先（SPTF）"><a href="#最短定位时间优先（SPTF）" class="headerlink" title="最短定位时间优先（SPTF）"></a>最短定位时间优先（SPTF）</h3><blockquote>
<p>Shortest Positioning Time First</p>
</blockquote>
<ul>
<li>考虑旋转时间和寻道时间的相对时间来判断要移到哪里</li>
</ul>
<h3 id="扫描算法（SCAN）"><a href="#扫描算法（SCAN）" class="headerlink" title="扫描算法（SCAN）"></a>扫描算法（SCAN）</h3><blockquote>
<p>SSTF算法会产生饥饿现象的原因在于：磁头有可能在一个小区域内来回来去地移动。</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002162200751.png" alt="image-20221002162200751"></p>
<h3 id="LOOK调度算法"><a href="#LOOK调度算法" class="headerlink" title="LOOK调度算法"></a>LOOK调度算法</h3><blockquote>
<p>解决扫描算法的第一个缺点</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002162423221.png" alt="image-20221002162423221"></p>
<h3 id="循环扫描算法（C-SCAN）"><a href="#循环扫描算法（C-SCAN）" class="headerlink" title="循环扫描算法（C-SCAN）"></a>循环扫描算法（C-SCAN）</h3><blockquote>
<p>解决扫描算法的第二个缺点</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002162812459.png" alt="image-20221002162812459"></p>
<h3 id="C-LOOK算法"><a href="#C-LOOK算法" class="headerlink" title="C-LOOK算法"></a>C-LOOK算法</h3><blockquote>
<p>解决C-SCAN的缺点</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002162927181.png" alt="image-20221002162927181"></p>
<h3 id="其他调度问题"><a href="#其他调度问题" class="headerlink" title="其他调度问题"></a>其他调度问题</h3><ul>
<li>在早期的操作系统中<ul>
<li>操作系统完成了所有的调度</li>
</ul>
</li>
<li>在现代操作系统中<ul>
<li>磁盘可以接受多个分离的请求，它们本身具有复杂的调度程序（它们可以准确地实现SPFT）</li>
</ul>
</li>
<li>磁盘调度程序执行的另外一个重要的相关任务是&#x3D;&#x3D;I&#x2F;O合并&#x3D;&#x3D;（I&#x2F;O merging）<ul>
<li>例如：假设一系列请求读取块33，然后是8，然后是34。这种情况下，调度程序应该将33和34的请求合并。</li>
<li>减少了发送到磁盘的请求数量，从而降低了开销</li>
</ul>
</li>
</ul>
<h3 id="总结-44"><a href="#总结-44" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002163052962.png" alt="image-20221002163052962"></p>
<h2 id="减少延迟时间的方法"><a href="#减少延迟时间的方法" class="headerlink" title="减少延迟时间的方法"></a>减少<del>延迟时间</del>的方法</h2><blockquote>
<p>延迟时间：将目标扇区转到磁头下面所花的时间</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002163520340.png" alt="image-20221002163520340"></p>
<h3 id="交换编号-相同磁盘号下"><a href="#交换编号-相同磁盘号下" class="headerlink" title="交换编号 相同磁盘号下"></a>交换编号 <del>相同磁盘号下</del></h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002163712315.png" alt="image-20221002163712315"></p>
<h3 id="磁道缓冲区"><a href="#磁道缓冲区" class="headerlink" title="磁道缓冲区"></a>磁道缓冲区</h3><blockquote>
<p> 现代磁盘更加智能：它们在内部读取整个磁道并将其缓冲在内部磁盘的缓冲中（由于这个原因，通常称为磁道缓冲区，tracker buffer）。然后，在对轨道后续的读取中，磁盘就从前高速缓存中返回所需数据。</p>
</blockquote>
<h3 id="错位命名-不同磁盘号下"><a href="#错位命名-不同磁盘号下" class="headerlink" title="错位命名 不同磁盘号下"></a>错位命名 <del>不同磁盘号下</del></h3><h4 id="背景知识：磁盘地址结构的设计"><a href="#背景知识：磁盘地址结构的设计" class="headerlink" title="背景知识：磁盘地址结构的设计"></a>背景知识：磁盘地址结构的设计</h4><blockquote>
<p>二者在读取相邻地址时的优劣</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002164026844.png" alt="image-20221002164026844"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002164234238.png" alt="image-20221002164234238"></p>
<img src="操作系统(王道+操作系统导论).assets/image-20221002164335218.png" alt="image-20221002164335218" style="zoom:50%;" />



<h4 id="错位命名"><a href="#错位命名" class="headerlink" title="错位命名"></a>错位命名</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002165114374.png" alt="image-20221002165114374"></p>
<hr>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002165046955.png" alt="image-20221002165046955"></p>
<h3 id="总结-45"><a href="#总结-45" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002165447801.png" alt="image-20221002165447801"></p>
<h2 id="磁盘的管理"><a href="#磁盘的管理" class="headerlink" title="磁盘的管理"></a>磁盘的管理</h2><h3 id="磁盘初始化"><a href="#磁盘初始化" class="headerlink" title="磁盘初始化"></a>磁盘初始化</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002171644188.png" alt="image-20221002171644188"></p>
<h3 id="数据完整性和保护"><a href="#数据完整性和保护" class="headerlink" title="数据完整性和保护"></a>数据完整性和保护</h3><h4 id="检测讹误：检验吗"><a href="#检测讹误：检验吗" class="headerlink" title="检测讹误：检验吗"></a>检测讹误：检验吗</h4><h5 id="校验码"><a href="#校验码" class="headerlink" title="校验码"></a>校验码</h5><blockquote>
<p>是&#x3D;&#x3D;数据通信领域（只要是数据传输，计算机内部，端到端等）&#x3D;&#x3D;常用的一种数据传输检错技术，通过在发送端对数据按照某种算法计算出校验码，并将得到的校验码附在数据帧的后面，一起发送到接收端。接收端对收到的数据和校验码按照相同算法进行验证，以此判断接收到的数据是否正确、完整。</p>
</blockquote>
<h5 id="奇偶校验"><a href="#奇偶校验" class="headerlink" title="奇偶校验"></a>奇偶校验</h5><p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C/8090811">奇偶校验码详解</a></p>
<ul>
<li><p>磁盘扇区校验和的一种形式是基于扇区内所有二进制位的奇偶性。</p>
</li>
<li><p>如果所有二进制位中的1的个数为奇数，比如11001，则在其后面增加值为1的奇偶位，变成110011；如果所有二进制位中的1的个数为偶数，比如11000，则在其后面增加值为0的奇偶位，变成110000，这样使得整个扇区的二进制位中的1的个数为偶数。</p>
</li>
<li><p>如果扇区中有奇数位出错，则我们能检验出来，如果扇区中有偶数位出错，则我们检验不出来。也就是说，如果磁盘扇区出现了错误，我们有1&#x2F;2的可能性能检验不出来。</p>
</li>
<li><p>增加奇偶校验位数能提高检验出错误的概率。</p>
</li>
<li><p>如果有两位校验位，第一位检验扇区的每一个字节的奇数位，第二位检验扇区的每个字节的偶数位，我们可以看成：每一个校验位检验一半扇区，那么每一个校验为检验不出错误的概率是1&#x2F;2，两个校验位检验不出错误的概率就是1&#x2F;4.</p>
</li>
<li><p>如果一个扇区（假设有4096个字节）用4个字节作为检验码（32位校验位），那么只有40亿分之一的可能性检验不出错误。</p>
</li>
<li><h4 id="工作方式"><a href="#工作方式" class="headerlink" title="工作方式"></a>工作方式</h4><ul>
<li>奇偶校验是在通信过程中确保节点之间准确数据传输的过程。奇偶校验位<strong>附加到原始数据位以创建偶数&#x3D;&#x3D;或&#x3D;&#x3D;奇数位</strong>。内存中最小的单位是比特，也称为“位”，位只有两种状态分别以1和0来标示，每8个连续的比特叫做一个字节（byte）。不带奇偶校验的内存每个字节只有8位，如果其某一位存储了错误的值，就会导致其存储的相应数据发生变化，进而导致应用程序发生错误。而奇偶校验就是在每一字节（8位）之外又增加了一位作为错误检测位。在某字节中存储数据之后，在其8个位上存储的数据是固定的，因为位只能有两种状态1或0，假设存储的数据用位标示为1、1、1、0、0、1、0、1，那么把每个位相加（1+1+1+0+0+1+0+1&#x3D;5），结果是奇数。对于偶校验，校验位就定义为1；对于奇校验，则相反。<em><em>当CPU读取存储的数据时，它会&#x3D;&#x3D;再次&#x3D;&#x3D;把前8位中存储的数据相加，计算结果&#x3D;&#x3D;是否与校验位相一致&#x3D;&#x3D;<strong>。从而一定程度上能检测出内存错误，奇偶校验</strong></em>只能检测出错误而无法对其进行修正</em><strong>，</strong>同时虽然双位同时发生错误的概率相当低，但奇偶校验却&#x3D;&#x3D;无法&#x3D;&#x3D;检测出双位错误。**</li>
</ul>
</li>
<li><h4 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h4><ul>
<li>奇偶校验有两种类型：奇校验和偶校验。奇偶校验位是一个表示给定位数的二进制数中1的个数是奇数或者偶数的二进制数，奇偶校验位是<strong>最简单的错误检测码</strong>。如果传输过程中包括校验位在内的奇数个数据位发生改变，那么奇偶校验位将出错表示传输过程有错误发生。因此，<strong>奇偶校验位是一种错误检测码，但是由于没有办法确定哪一位出错，所以它不能进行错误校正</strong>。**发生错误时必须&#x3D;&#x3D;扔掉全部的数据&#x3D;&#x3D;，然后&#x3D;&#x3D;从头开始传输数据&#x3D;&#x3D;**。在噪声很多的媒介上成功传输数据可能要花费很长的时间，甚至根本无法实现。但是奇偶校验位也有它的优点，它是使用一位数据能够达到的最好的校验码，并且它仅仅需要一些异或门就能够生成。奇偶校验被广泛应用。</li>
</ul>
</li>
</ul>
<h5 id="校验和"><a href="#校验和" class="headerlink" title="校验和"></a>校验和</h5><blockquote>
<p>异或</p>
<p>直接加法，忽略溢出</p>
<p>Fletcher校验</p>
</blockquote>
<h5 id="循环冗余校验（CRC）"><a href="#循环冗余校验（CRC）" class="headerlink" title="循环冗余校验（CRC）"></a>循环冗余校验（CRC）</h5><blockquote>
<p>假设你希望计算数据块D的校验和。你所做的只是将D视为一个很大的二进制数并将其除以约定的值（k）。该除法的其余部分是CRC的值。</p>
</blockquote>
<h5 id="校验和布局"><a href="#校验和布局" class="headerlink" title="校验和布局"></a>校验和布局</h5><blockquote>
<p>如何将校验和存储到磁盘上</p>
</blockquote>
<ul>
<li>每个磁盘扇区（或块）存储校验和</li>
<li>驱动器制造商采用的一种方法是使用520字节扇区格式化驱动器，每个扇区额外的8个字节可用于存储校验和<ul>
<li>缺点是，假设要覆盖某个扇区（或块）时，需要执行<strong>两次</strong>写操作</li>
</ul>
</li>
</ul>
<h4 id="讹误：错误的写入"><a href="#讹误：错误的写入" class="headerlink" title="讹误：错误的写入"></a>讹误：错误的写入</h4><blockquote>
<p>写入磁盘成功，但是写入的位置错了</p>
</blockquote>
<ul>
<li>只需要对比要访问的块，与实际访问的块的信息做对比就可以看出是否出现错误的写入</li>
</ul>
<h4 id="讹误：丢失的写入"><a href="#讹误：丢失的写入" class="headerlink" title="讹误：丢失的写入"></a>讹误：丢失的写入</h4><blockquote>
<p>在写数据时，实际没有完成写入，但是向上层汇报写入（假设），磁盘上留下的时该块的旧内容，而不是更新的新内容。</p>
<p>旧块很可能具有匹配的校验和，上面使用的物理ID（磁盘号和块偏移都是正确的）。</p>
</blockquote>
<ul>
<li>解决<ul>
<li>写入后立即读数据，看是否写入<ul>
<li>I&#x2F;O翻倍</li>
</ul>
</li>
<li>在其他位置添加校验和，以检测丢失的写入</li>
<li>只有当inode和数据的写入都丢失时才会失败（不太可能）</li>
</ul>
</li>
</ul>
<h3 id="引导块"><a href="#引导块" class="headerlink" title="引导块"></a>引导块</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002171817345.png" alt="image-20221002171817345"></p>
<ul>
<li><h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a><strong>解决</strong></h4></li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002172032235.png" alt="image-20221002172032235"></p>
<h3 id="坏块的管理"><a href="#坏块的管理" class="headerlink" title="坏块的管理"></a>坏块的管理</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002172808526.png" alt="image-20221002172808526"></p>
<h3 id="廉价冗余磁盘阵列（RAID）"><a href="#廉价冗余磁盘阵列（RAID）" class="headerlink" title="廉价冗余磁盘阵列（RAID）"></a>廉价冗余磁盘阵列（RAID）</h3><p>资源：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/51170719">RAID详解</a></p>
<blockquote>
<p>书p326</p>
</blockquote>
<h3 id="总结-46"><a href="#总结-46" class="headerlink" title="总结"></a>总结</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221002172836454.png" alt="image-20221002172836454"></p>
<h1 id="第五章"><a href="#第五章" class="headerlink" title="第五章"></a>第五章</h1><h2 id="I-O设备的概念个分类"><a href="#I-O设备的概念个分类" class="headerlink" title="I&#x2F;O设备的概念个分类"></a>I&#x2F;O设备的概念个分类</h2><h3 id="什么是I-O设备"><a href="#什么是I-O设备" class="headerlink" title="什么是I&#x2F;O设备"></a>什么是I&#x2F;O设备</h3><blockquote>
<p>UNIX系统将外部设备抽象为一种特殊的文件，用户可以使用与文件操作相同的方式对外部设备进行操作</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003093009237.png" alt="image-20221003093009237"></p>
<ul>
<li>站在操作系统的视角（my understanding）</li>
</ul>
<h3 id="I-O设备的分类"><a href="#I-O设备的分类" class="headerlink" title="I&#x2F;O设备的分类"></a>I&#x2F;O设备的分类</h3><h4 id="按使用特性"><a href="#按使用特性" class="headerlink" title="按使用特性"></a>按使用特性</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003093131867.png" alt="image-20221003093131867"></p>
<h4 id="按传输速率分类"><a href="#按传输速率分类" class="headerlink" title="按传输速率分类"></a>按传输速率分类</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003093801632.png" alt="image-20221003093801632"></p>
<h4 id="按信息交换方式分类"><a href="#按信息交换方式分类" class="headerlink" title="按信息交换方式分类"></a>按信息交换方式分类</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003093852378.png" alt="image-20221003093852378"></p>
<h3 id="总结-47"><a href="#总结-47" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003093905347.png" alt="image-20221003093905347"></p>
<h2 id="I-O控制器-硬件层"><a href="#I-O控制器-硬件层" class="headerlink" title="I&#x2F;O控制器 硬件层"></a>I&#x2F;O控制器 <del>硬件层</del></h2><h3 id="I-O的机械硬件"><a href="#I-O的机械硬件" class="headerlink" title="I&#x2F;O的机械硬件"></a>I&#x2F;O的机械硬件</h3><blockquote>
<p>磁盘等</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003094122353.png" alt="image-20221003094122353"></p>
<h3 id="I-O设备的电子部件-I-O控制器"><a href="#I-O设备的电子部件-I-O控制器" class="headerlink" title="I&#x2F;O设备的电子部件 I&#x2F;O控制器"></a>I&#x2F;O设备的电子部件 <del>I&#x2F;O控制器</del></h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003094356186.png" alt="image-20221003094356186"></p>
<h3 id="I-O控制器的组成"><a href="#I-O控制器的组成" class="headerlink" title="I&#x2F;O控制器的组成"></a>I&#x2F;O控制器的组成</h3><blockquote>
<p>寄存器一般会有很多个</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003094713307.png" alt="image-20221003094713307"></p>
<img src="操作系统(王道+操作系统导论).assets/image-20221003094829722.png" alt="image-20221003094829722"  />



<h3 id="内存映像I-O-v-s-寄存器独立编址"><a href="#内存映像I-O-v-s-寄存器独立编址" class="headerlink" title="内存映像I&#x2F;O v.s. 寄存器独立编址"></a>内存映像I&#x2F;O v.s. 寄存器独立编址</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003095048123.png" alt="image-20221003095048123"></p>
<h3 id="总结-48"><a href="#总结-48" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003095211065.png" alt="image-20221003095211065"></p>
<h2 id="I-O控制方式-硬件层"><a href="#I-O控制方式-硬件层" class="headerlink" title="I&#x2F;O控制方式 硬件层"></a>I&#x2F;O控制方式 <del>硬件层</del></h2><blockquote>
<p>用什么样的方式来控制I&#x2F;O设备的数据读&#x2F;写</p>
</blockquote>
<h3 id="程序直接控制方式poll轮询"><a href="#程序直接控制方式poll轮询" class="headerlink" title="程序直接控制方式poll轮询"></a>程序直接控制方式<del>poll轮询</del></h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003095636773.png" alt="image-20221003095636773"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003100218826.png" alt="image-20221003100218826"></p>
<h4 id="其中为什么要放入存储器内存"><a href="#其中为什么要放入存储器内存" class="headerlink" title="其中为什么要放入存储器内存"></a>其中为什么要放入存储器<del>内存</del></h4><img src="操作系统(王道+操作系统导论).assets/image-20221003100013393.png" alt="image-20221003100013393" style="zoom:50%;" />





<h3 id="中断驱动方式"><a href="#中断驱动方式" class="headerlink" title="中断驱动方式"></a>中断驱动方式</h3><blockquote>
<p>解决程序直接控制方式中CPU和I&#x2F;O设备不能并行的问题</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003100359381.png" alt="image-20221003100359381"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003100509853.png" alt="image-20221003100509853"></p>
<h3 id="DMA方式"><a href="#DMA方式" class="headerlink" title="DMA方式"></a>DMA方式</h3><blockquote>
<p>解决中断驱动方式因为传输量小，需要经过CPU，导致&#x3D;&#x3D;频繁&#x3D;&#x3D;中断处理，会花费大量时间的问题</p>
<p>进一步提升并行性</p>
<p>每次读写只能是连续的块，且这些块读入内存后在内存中也必须是连续的</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003100841420.png" alt="image-20221003100841420"></p>
<h4 id="DMA控制器-一种I-O控制器"><a href="#DMA控制器-一种I-O控制器" class="headerlink" title="DMA控制器 一种I&#x2F;O控制器"></a>DMA控制器 <del>一种I&#x2F;O控制器</del></h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003101446297.png" alt="image-20221003101446297"></p>
<h4 id="DMA方式-1"><a href="#DMA方式-1" class="headerlink" title="DMA方式"></a>DMA方式</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003101731976.png" alt="image-20221003101731976"></p>
<h3 id="通道控制方式"><a href="#通道控制方式" class="headerlink" title="通道控制方式"></a>通道控制方式</h3><blockquote>
<p>解决DMA方式中：CPU每发出一条I&#x2F;O指令，只能读&#x2F;写一个或多个&#x3D;&#x3D;连续&#x3D;&#x3D;的数据块</p>
<p>通道：一种&#x3D;&#x3D;硬件&#x3D;&#x3D;，可以理解为是“&#x3D;&#x3D;弱鸡版的CPU&#x3D;&#x3D;”。通道可以识别并执行一系列通道指令</p>
<p>一个通道（<em>弱鸡版CPU</em>）可以控制多个I&#x2F;O控制器，一个I&#x2F;O控制器可以控制多个I&#x2F;O设备</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003102242307.png" alt="image-20221003102242307"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003102506737.png" alt="image-20221003102506737"></p>
<h3 id="总结-49"><a href="#总结-49" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003102905358.png" alt="image-20221003102905358"></p>
<h2 id="I-O软件层次结构"><a href="#I-O软件层次结构" class="headerlink" title="I&#x2F;O软件层次结构"></a>I&#x2F;O<del>软件层次</del>结构</h2><h3 id="知识总览-5"><a href="#知识总览-5" class="headerlink" title="知识总览"></a>知识总览</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003103202415.png" alt="image-20221003103202415"></p>
<h3 id="用户层软件"><a href="#用户层软件" class="headerlink" title="用户层软件"></a>用户层软件</h3><blockquote>
<p>第一章有讲到系统调用</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003103900764.png" alt="image-20221003103900764"></p>
<h3 id="设备独立性软件"><a href="#设备独立性软件" class="headerlink" title="设备独立性软件"></a>设备独立性软件</h3><img src="操作系统(王道+操作系统导论).assets/image-20221003104450849.png" alt="image-20221003104450849" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221003104529746.png" alt="image-20221003104529746" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221003104548319.png" alt="image-20221003104548319" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221003104610817.png" alt="image-20221003104610817" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221003104625154.png" alt="image-20221003104625154" style="zoom:50%;" />

<ul>
<li>给下层</li>
</ul>
<img src="操作系统(王道+操作系统导论).assets/image-20221003104653554.png" alt="image-20221003104653554" style="zoom:50%;" />

<ul>
<li><h3 id="逻辑设备表（LUT表）Logical-Unit-Table"><a href="#逻辑设备表（LUT表）Logical-Unit-Table" class="headerlink" title="逻辑设备表（LUT表）Logical Unit Table"></a>逻辑设备表（LUT表）<del>Logical</del> <del>Unit</del> <del>Table</del></h3></li>
</ul>
<img src="操作系统(王道+操作系统导论).assets/image-20221003104745475.png" alt="image-20221003104745475" style="zoom:50%;" />



<h3 id="设备驱动程序"><a href="#设备驱动程序" class="headerlink" title="设备驱动程序"></a>设备驱动程序</h3><blockquote>
<p>和中断处理程序一样需要与硬件打交道</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003104831098.png" alt="image-20221003104831098"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003105001502.png" alt="image-20221003105001502"></p>
<h3 id="中断处理程序-第一章讲过"><a href="#中断处理程序-第一章讲过" class="headerlink" title="中断处理程序 第一章讲过"></a>中断处理程序 <del>第一章讲过</del></h3><blockquote>
<p>此处是I&#x2F;O下的中断处理</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003105705363.png" alt="image-20221003105705363"></p>
<h3 id="总结-50"><a href="#总结-50" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003105943127.png" alt="image-20221003105943127"></p>
<h2 id="I-O核心子系统-设备独立软件中功能具体实现"><a href="#I-O核心子系统-设备独立软件中功能具体实现" class="headerlink" title="I&#x2F;O核心子系统 设备独立软件中功能具体实现"></a>I&#x2F;O核心子系统 <del>设备独立软件中功能具体实现</del></h2><h3 id="知识总览-6"><a href="#知识总览-6" class="headerlink" title="知识总览"></a>知识总览</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003110239276.png" alt="image-20221003110239276"></p>
<ul>
<li><h3 id="注意-：假脱机技术（SPOOLing技术）是用户层实现的功能"><a href="#注意-：假脱机技术（SPOOLing技术）是用户层实现的功能" class="headerlink" title="&#x3D;&#x3D;注意&#x3D;&#x3D;：假脱机技术（SPOOLing技术）是用户层实现的功能"></a>&#x3D;&#x3D;注意&#x3D;&#x3D;：<strong>假脱机技术（SPOOLing技术）是用户层实现的功能</strong></h3></li>
</ul>
<h3 id="I-O调度"><a href="#I-O调度" class="headerlink" title="I&#x2F;O调度"></a>I&#x2F;O调度</h3><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003110756033.png" alt="image-20221003110756033"></p>
<h3 id="设备保护"><a href="#设备保护" class="headerlink" title="设备保护"></a>设备保护</h3><blockquote>
<p>与文件保护类似，可以将设备看做成特殊的文件</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003110942233.png" alt="image-20221003110942233"></p>
<h3 id="假脱机技术-用户层实现的"><a href="#假脱机技术-用户层实现的" class="headerlink" title="假脱机技术 用户层实现的"></a>假脱机技术 <del>用户层实现的</del></h3><h4 id="什么是-脱机技术"><a href="#什么是-脱机技术" class="headerlink" title="什么是 脱机技术"></a>什么是 脱机技术</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003111615435.png" alt="image-20221003111615435"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003111729333.png" alt="image-20221003111729333"></p>
<h4 id="假脱机技术原理"><a href="#假脱机技术原理" class="headerlink" title="假脱机技术原理"></a>假脱机技术原理</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003112041222.png" alt="image-20221003112041222"></p>
<ul>
<li><h4 id="输入进程、输出进程：类似于-外围控制机"><a href="#输入进程、输出进程：类似于-外围控制机" class="headerlink" title="输入进程、输出进程：类似于&#x3D;&#x3D;外围控制机&#x3D;&#x3D;"></a>输入进程、输出进程：类似于&#x3D;&#x3D;外围控制机&#x3D;&#x3D;</h4></li>
<li><h4 id="输入井、输出井：类似于-磁带"><a href="#输入井、输出井：类似于-磁带" class="headerlink" title="输入井、输出井：类似于&#x3D;&#x3D;磁带&#x3D;&#x3D;"></a>输入井、输出井：类似于&#x3D;&#x3D;磁带&#x3D;&#x3D;</h4></li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003112343581.png" alt="image-20221003112343581"></p>
<h4 id="共享打印机原理-假脱机技术的应用"><a href="#共享打印机原理-假脱机技术的应用" class="headerlink" title="共享打印机原理 假脱机技术的应用"></a>共享打印机原理 <del>假脱机技术的应用</del></h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003112729050.png" alt="image-20221003112729050"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003112852041.png" alt="image-20221003112852041"></p>
<h4 id="总结-51"><a href="#总结-51" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003112911867.png" alt="image-20221003112911867"></p>
<h3 id="设备的分配与回收"><a href="#设备的分配与回收" class="headerlink" title="设备的分配与回收"></a>设备的分配与回收</h3><h4 id="设备分配时需要考虑的因素"><a href="#设备分配时需要考虑的因素" class="headerlink" title="设备分配时需要考虑的因素"></a>设备分配时需要考虑的因素</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003113546769.png" alt="image-20221003113546769"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003113534250.png" alt="image-20221003113534250"></p>
<img src="操作系统(王道+操作系统导论).assets/image-20221003113712016.png" alt="image-20221003113712016" style="zoom:50%;" />

<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003113853740.png" alt="image-20221003113853740"></p>
<h4 id="静态分配和动态分配"><a href="#静态分配和动态分配" class="headerlink" title="静态分配和动态分配"></a>静态分配和动态分配</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003114332920.png" alt="image-20221003114332920"></p>
<h4 id="设备分配管理中的数据结构"><a href="#设备分配管理中的数据结构" class="headerlink" title="设备分配管理中的数据结构"></a>设备分配管理中的数据结构</h4><blockquote>
<p>可以有多个通道</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003114442036.png" alt="image-20221003114442036"></p>
<h5 id="设备控制表（DCT）"><a href="#设备控制表（DCT）" class="headerlink" title="设备控制表（DCT）"></a>设备控制表（DCT）</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003114633328.png" alt="image-20221003114633328"></p>
<h5 id="控制器控制表（COCT）"><a href="#控制器控制表（COCT）" class="headerlink" title="控制器控制表（COCT）"></a>控制器控制表（COCT）</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003114759252.png" alt="image-20221003114759252"></p>
<h5 id="通道控制表（CHCT）"><a href="#通道控制表（CHCT）" class="headerlink" title="通道控制表（CHCT）"></a>通道控制表（CHCT）</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003115033462.png" alt="image-20221003115033462"></p>
<h5 id="系统设备表（SDT）"><a href="#系统设备表（SDT）" class="headerlink" title="系统设备表（SDT）"></a>系统设备表（SDT）</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003115131555.png" alt="image-20221003115131555"></p>
<h4 id="设备分配的步骤"><a href="#设备分配的步骤" class="headerlink" title="设备分配的步骤"></a>设备分配的步骤</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003115221542.png" alt="image-20221003115221542"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003115304051.png" alt="image-20221003115304051"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003115349344.png" alt="image-20221003115349344"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003115409750.png" alt="image-20221003115409750"></p>
<img src="操作系统(王道+操作系统导论).assets/image-20221003115513332.png" alt="image-20221003115513332" style="zoom:50%;" />





<h4 id="设备分配的步骤改进"><a href="#设备分配的步骤改进" class="headerlink" title="设备分配的步骤改进"></a>设备分配的步骤改进</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003115716981.png" alt="image-20221003115716981"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003115844682.png" alt="image-20221003115844682"></p>
<h4 id="总结-52"><a href="#总结-52" class="headerlink" title="总结"></a>总结</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003120131276.png" alt="image-20221003120131276"></p>
<h3 id="缓冲区管理"><a href="#缓冲区管理" class="headerlink" title="缓冲区管理"></a>缓冲区管理</h3><h4 id="什么是缓冲区？有什么作用？"><a href="#什么是缓冲区？有什么作用？" class="headerlink" title="什么是缓冲区？有什么作用？"></a>什么是缓冲区？有什么作用？</h4><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003120430946.png" alt="image-20221003120430946"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003120736182.png" alt="image-20221003120736182"></p>
<h4 id="缓冲区管理策略"><a href="#缓冲区管理策略" class="headerlink" title="缓冲区管理策略"></a>缓冲区管理策略</h4><h5 id="单缓冲"><a href="#单缓冲" class="headerlink" title="单缓冲"></a>单缓冲</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003121016091.png" alt="image-20221003121016091"></p>
<h6 id="计算每处理一块数据平均需要多少时间"><a href="#计算每处理一块数据平均需要多少时间" class="headerlink" title="计算每处理一块数据平均需要多少时间"></a>计算每处理一块数据平均需要多少时间</h6><ul>
<li><h4 id="T-C"><a href="#T-C" class="headerlink" title="T&gt;C"></a>T&gt;C</h4></li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003121154081.png" alt="image-20221003121154081"></p>
<ul>
<li><h4 id="T"><a href="#T" class="headerlink" title="T&lt;C"></a>T&lt;C</h4></li>
</ul>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003121442512.png" alt="image-20221003121442512"></p>
<h6 id="结论-1"><a href="#结论-1" class="headerlink" title="结论"></a>结论</h6><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003121508518.png" alt="image-20221003121508518"></p>
<h5 id="双缓冲"><a href="#双缓冲" class="headerlink" title="双缓冲"></a>双缓冲</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003121659988.png" alt="image-20221003121659988"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003122006828.png" alt="image-20221003122006828"></p>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003122024719.png" alt="image-20221003122024719"></p>
<h5 id="使用单-双缓冲策略在通信时的区别"><a href="#使用单-双缓冲策略在通信时的区别" class="headerlink" title="使用单&#x2F;双缓冲策略在通信时的区别"></a>使用单&#x2F;双缓冲策略在<del>通信时</del>的区别</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003122155154.png" alt="image-20221003122155154"></p>
<h6 id="管道通信中的管道就是缓冲区"><a href="#管道通信中的管道就是缓冲区" class="headerlink" title="管道通信中的管道就是缓冲区"></a>管道通信中的管道就是缓冲区</h6><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003122232399.png" alt="image-20221003122232399"></p>
<h5 id="循环缓冲区"><a href="#循环缓冲区" class="headerlink" title="循环缓冲区"></a>循环缓冲区</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003122442325.png" alt="image-20221003122442325"></p>
<h5 id="缓冲池"><a href="#缓冲池" class="headerlink" title="缓冲池"></a>缓冲池</h5><blockquote>
<p> 一堆缓冲放一起</p>
</blockquote>
<p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003123007099.png" alt="image-20221003123007099"></p>
<img src="操作系统(王道+操作系统导论).assets/image-20221003122932602.png" alt="image-20221003122932602" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221003123047057.png" alt="image-20221003123047057" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221003123102868.png" alt="image-20221003123102868" style="zoom:50%;" />

<img src="操作系统(王道+操作系统导论).assets/image-20221003123117175.png" alt="image-20221003123117175" style="zoom:50%;" />



<h5 id="总结-53"><a href="#总结-53" class="headerlink" title="&#x3D;&#x3D;总结&#x3D;&#x3D;"></a>&#x3D;&#x3D;总结&#x3D;&#x3D;</h5><p><img src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E7%8E%8B%E9%81%93+%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA).assets/image-20221003123159300.png" alt="image-20221003123159300"></p>
<h1 id="分布式系统"><a href="#分布式系统" class="headerlink" title="分布式系统"></a>分布式系统</h1><blockquote>
<p>p419</p>
</blockquote>
<h2 id="通信基础"><a href="#通信基础" class="headerlink" title="通信基础"></a>通信基础</h2><ul>
<li>丢包现象<ul>
<li>路由器或者某台机器同时接收了大量的数据，其内存无法容纳所有的数据包，唯一的选择就是丢弃(drop)一个或多个数据包</li>
<li>丢包现象时网络的基本现象。</li>
</ul>
</li>
</ul>
<h2 id="不可靠的通信层"><a href="#不可靠的通信层" class="headerlink" title="不可靠的通信层"></a>不可靠的通信层</h2><blockquote>
<p>UDP&#x2F;IP网络栈</p>
</blockquote>
<ul>
<li>要使用UDP，进程使用套接字(socket)API来创建通信端点（communication endpoint）。其他机器（或同一台机器上）的进程将UDP数据报（datagram）发送到前面的进程（数据报是一个固定大小的消息，有最大大小）</li>
</ul>
<h2 id="可靠的通信层"><a href="#可靠的通信层" class="headerlink" title="可靠的通信层"></a>可靠的通信层</h2><blockquote>
<p>TCP&#x2F;IP</p>
</blockquote>
<ul>
<li>确认</li>
<li>发送方在第一发送时超时，再发一次。假设接收方两次都接收到了，接收方需避免因重复接收消息而重复发送文件</li>
</ul>
<h2 id="通信抽象"><a href="#通信抽象" class="headerlink" title="通信抽象"></a>通信抽象</h2><ul>
<li>基于多个端系统的虚拟内存</li>
<li>DSM系统——难以构建可靠的分布式系统</li>
</ul>
<p>​	</p>
<h2 id="远程过程调用（RPC）"><a href="#远程过程调用（RPC）" class="headerlink" title="远程过程调用（RPC）"></a>远程过程调用（RPC）</h2><blockquote>
<p>简单的目标：使在远程机器上执行代码的过程像调用本地函数一样简单直接。因此对客户端来说，进行一个过程调用，并在一段时间后返回结果。服务器只是定义了一些它希望导出的例程。其余的由RPC系统处理，RPC系统通常由两部分：存根生成器（stub generator，有时称为协议编译器，protocol complier）和运行时库（run-time library）。</p>
</blockquote>
<ul>
<li>存根寄存器<ul>
<li>一系列操作<ul>
<li>创建消息缓冲区</li>
<li>将所需信息打包到消息缓冲区中</li>
<li>将消息发送到目标RPC服务器</li>
<li>等待回复</li>
<li>解包返回代码和其他参数</li>
<li>返回调用者</li>
<li>解包信息</li>
<li>调用实际函数</li>
<li>打包结果</li>
<li>发送回复</li>
</ul>
</li>
</ul>
</li>
<li>运行时库<ul>
<li>处理RPC系统中的大部分繁重的工作</li>
<li>例如：处理大多数性能和可靠性问题</li>
</ul>
</li>
<li>其他问题<ul>
<li>机器之间可能存在不同的字节序（大端序，小端序）</li>
<li>是否向客户端暴露通信的异步性质</li>
</ul>
</li>
</ul>
<h1 id="Sun的网络文件系统（NFS）"><a href="#Sun的网络文件系统（NFS）" class="headerlink" title="Sun的网络文件系统（NFS）"></a>Sun的网络文件系统（NFS）</h1><h1 id="end"><a href="#end" class="headerlink" title="end"></a>end</h1></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://estrellaxiaoyu.github.io">Estrella</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://estrellaxiaoyu.github.io/2023/07/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0/">https://estrellaxiaoyu.github.io/2023/07/25/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://estrellaxiaoyu.github.io" target="_blank">Estrella博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/./img/%E7%AC%94%E8%AE%B0p6.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/07/25/Linux%E7%AC%94%E8%AE%B0/" title="Linux笔记"><img class="cover" src="/./img/%E7%AC%94%E8%AE%B0p9.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux笔记</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0/" title="计算机网络笔记"><img class="cover" src="/./img/%E7%AC%94%E8%AE%B0p7.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">计算机网络笔记</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/%E5%A4%B4%E5%83%8F.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Estrella</div><div class="author-info__description">hi，欢迎你来到我的博客</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">9</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Estrellaxiaoyu" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:estrellaxiaoyu@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到Estrella的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.</span> <span class="toc-text">操作系统学习建议</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9Flab%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.</span> <span class="toc-text">操作系统lab项目</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0"><span class="toc-number">3.</span> <span class="toc-text">第一章</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.</span> <span class="toc-text">操作系统的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8A%9F%E8%83%BD%E5%92%8C%E7%9B%AE%E6%A0%87"><span class="toc-number">3.2.</span> <span class="toc-text">操作系统的功能和目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%B9%E5%BE%81"><span class="toc-number">3.3.</span> <span class="toc-text">操作系统的特征</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91"><span class="toc-number">3.3.1.</span> <span class="toc-text">并发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB"><span class="toc-number">3.3.2.</span> <span class="toc-text">共享</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F"><span class="toc-number">3.3.3.</span> <span class="toc-text">虚拟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5"><span class="toc-number">3.3.4.</span> <span class="toc-text">异步</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95%E5%92%8C%E5%88%86%E7%B1%BB"><span class="toc-number">3.4.</span> <span class="toc-text">操作系统的发展和分类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%E5%92%8C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">3.5.</span> <span class="toc-text">操作系统运行机制和体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">3.5.1.</span> <span class="toc-text">运行机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%86%85%E6%A0%B8"><span class="toc-number">3.5.2.</span> <span class="toc-text">操作系统的内核</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">3.5.3.</span> <span class="toc-text">操作系统体系结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%92%8C%E5%BC%82%E5%B8%B8%EF%BC%88%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%86%85%E6%A0%B8%EF%BC%89"><span class="toc-number">3.6.</span> <span class="toc-text">中断和异常（操作系统的内核）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-number">3.7.</span> <span class="toc-text">系统调用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%EF%BC%8C%E6%9C%89%E4%BD%95%E4%BD%9C%E7%94%A8"><span class="toc-number">3.7.1.</span> <span class="toc-text">什么是系统调用，有何作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E5%92%8C%E5%BA%93%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.7.2.</span> <span class="toc-text">系统调用和库函数的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E8%83%8C%E5%90%8E%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">3.7.3.</span> <span class="toc-text">系统调用背后的过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">3.7.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0"><span class="toc-number">4.</span> <span class="toc-text">第二章</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%AE%9A%E4%B9%89%E3%80%81%E7%BB%84%E6%88%90%E3%80%81%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F%E3%80%81%E7%89%B9%E5%BE%81"><span class="toc-number">4.1.</span> <span class="toc-text">进程的定义、组成、组织方式、特征</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">4.1.1.</span> <span class="toc-text">进程的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">4.1.2.</span> <span class="toc-text">进程的组成</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#PCB%E7%BB%84%E6%88%90"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">PCB组成</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84-%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F"><span class="toc-number">4.1.3.</span> <span class="toc-text">进程的&#x3D;&#x3D;组织方式&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E6%96%B9%E5%BC%8F"><span class="toc-number">4.1.3.1.</span> <span class="toc-text">链接方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E6%96%B9%E5%BC%8F"><span class="toc-number">4.1.3.2.</span> <span class="toc-text">索引方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%89%B9%E5%BE%81"><span class="toc-number">4.1.4.</span> <span class="toc-text">进程的特征</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">4.1.4.1.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%E4%B8%8E%E8%BD%AC%E6%8D%A2"><span class="toc-number">4.2.</span> <span class="toc-text">进程的状态与转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E7%9A%84%E8%81%94%E7%B3%BB"><span class="toc-number">4.2.0.1.</span> <span class="toc-text">与处理机调度的联系</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-number">4.2.1.</span> <span class="toc-text">进程的状态</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%8A%B6%E6%80%81"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">三种基本状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%A6%E5%A4%96%E4%B8%A4%E7%A7%8D%E7%8A%B6%E6%80%81"><span class="toc-number">4.2.1.2.</span> <span class="toc-text">另外两种状态</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">4.2.2.</span> <span class="toc-text">进程状态的转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6%EF%BC%88-%E6%8E%A7%E5%88%B6%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81-%E8%BD%AC%E6%8D%A2%E5%85%B7%E4%BD%93%E7%BB%86%E8%8A%82-%EF%BC%89"><span class="toc-number">4.3.</span> <span class="toc-text">进程控制（*控制进程状态&#x3D;&#x3D;转换具体细节&#x3D;&#x3D;*）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0"><span class="toc-number">4.3.1.</span> <span class="toc-text">如何实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E8%AF%AD%E2%80%94%E2%80%94%E5%8D%B3%E5%85%B7%E4%BD%93%E7%BB%86%E8%8A%82"><span class="toc-number">4.3.2.</span> <span class="toc-text">原语——即具体细节</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9B%B8%E5%85%B3%E5%8E%9F%E8%AF%AD"><span class="toc-number">4.3.3.</span> <span class="toc-text">进程相关原语</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">4.3.3.1.</span> <span class="toc-text">进程的创建</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%BB%88%E6%AD%A2"><span class="toc-number">4.3.3.2.</span> <span class="toc-text">进程的终止</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E9%98%BB%E5%A1%9E%E5%92%8C%E5%94%A4%E9%86%92"><span class="toc-number">4.3.3.3.</span> <span class="toc-text">进程的阻塞和唤醒</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%88%87%E6%8D%A2"><span class="toc-number">4.3.3.4.</span> <span class="toc-text">进程的切换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">4.3.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="toc-number">4.4.</span> <span class="toc-text">进程通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E9%80%9A%E4%BF%A1"><span class="toc-number">4.4.1.</span> <span class="toc-text">共享通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E4%BC%A0%E9%80%92"><span class="toc-number">4.4.2.</span> <span class="toc-text">消息传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E9%80%9A%E4%BF%A1"><span class="toc-number">4.4.3.</span> <span class="toc-text">管道通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">4.4.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B%EF%BC%88%E5%9C%A8%E8%BF%9B%E7%A8%8B%E4%B9%8B%E4%B8%8B%EF%BC%89"><span class="toc-number">4.5.</span> <span class="toc-text">线程和多线程模型（在进程之下）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%80%BB%E8%A7%88"><span class="toc-number">4.5.1.</span> <span class="toc-text">知识总览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BA%BF%E7%A8%8B"><span class="toc-number">4.5.2.</span> <span class="toc-text">什么是线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">4.5.3.</span> <span class="toc-text">线程的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">4.5.4.</span> <span class="toc-text">线程的实现方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%A8%A1%E5%9E%8B%EF%BC%88%E7%94%A8%E6%88%B7%E7%BA%A7%E7%BA%BF%E7%A8%8B%E6%98%A0%E5%B0%84%E5%9C%A8%E5%86%85%E6%A0%B8%E7%BA%A7%E7%BA%BF%E7%A8%8B%EF%BC%89"><span class="toc-number">4.5.5.</span> <span class="toc-text">多线程模型（用户级线程映射在内核级线程）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%AF%B9%E4%B8%80"><span class="toc-number">4.5.5.1.</span> <span class="toc-text">多对一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E4%B8%80"><span class="toc-number">4.5.5.2.</span> <span class="toc-text">一对一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%AF%B9%E5%A4%9A"><span class="toc-number">4.5.5.3.</span> <span class="toc-text">多对多</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-number">4.5.6.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%EF%BC%88%E6%8E%A7%E5%88%B6%E4%B8%8D%E5%90%8C%E7%8A%B6%E6%80%81-%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F-%EF%BC%89"><span class="toc-number">4.6.</span> <span class="toc-text">处理机调度（控制不同状态&#x3D;&#x3D;进程的执行顺序&#x3D;&#x3D;）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%80%BB%E8%A7%88-1"><span class="toc-number">4.6.1.</span> <span class="toc-text">知识总览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">4.6.2.</span> <span class="toc-text">调度的基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6%E7%9A%84%E4%B8%89%E4%B8%AA%E5%B1%82%E6%AC%A1"><span class="toc-number">4.6.3.</span> <span class="toc-text">调度的三个层次</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E8%B0%83%E5%BA%A6%EF%BC%88%E4%BD%9C%E4%B8%9A%E8%B0%83%E5%BA%A6%EF%BC%89"><span class="toc-number">4.6.3.1.</span> <span class="toc-text">高级调度（作业调度）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E7%BA%A7%E8%B0%83%E5%BA%A6%EF%BC%88%E5%86%85%E5%AD%98%E8%B0%83%E5%BA%A6%EF%BC%89"><span class="toc-number">4.6.3.2.</span> <span class="toc-text">中级调度（内存调度）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8C%82%E8%B5%B7%E6%80%81%E4%B8%8E%E4%B8%83%E7%8A%B6%E6%80%81%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.6.3.3.</span> <span class="toc-text">进程的挂起态与七状态模型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8E%E7%BA%A7%E8%B0%83%E5%BA%A6%EF%BC%88%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%EF%BC%89"><span class="toc-number">4.6.3.4.</span> <span class="toc-text">低级调度（进程调度）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%B1%82%E8%B0%83%E5%BA%A6%E7%9A%84%E8%81%94%E7%B3%BB%E5%92%8C%E5%AF%B9%E6%AF%94%EF%BC%88-%E4%BB%A5%E5%8F%8A%E5%AF%B9%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E5%BD%B1%E5%93%8D-%EF%BC%89"><span class="toc-number">4.6.3.5.</span> <span class="toc-text">三层调度的联系和对比（*&#x3D;&#x3D;以及对进程状态影响&#x3D;&#x3D;*）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-6"><span class="toc-number">4.6.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6-%E4%BD%8E%E7%BA%A7%E8%B0%83%E5%BA%A6%EF%BC%88%E7%BB%86%E8%8A%82%EF%BC%89"><span class="toc-number">4.6.5.</span> <span class="toc-text">进程调度&#x2F;低级调度（细节）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%91%E7%9A%84%E7%90%86%E8%A7%A3-%EF%BC%9A"><span class="toc-number">4.6.5.1.</span> <span class="toc-text">&#x3D;&#x3D;我的理解&#x3D;&#x3D;：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%80%BB%E8%A7%88-2"><span class="toc-number">4.6.5.2.</span> <span class="toc-text">知识总览</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E6%97%B6%E6%9C%BA"><span class="toc-number">4.6.5.3.</span> <span class="toc-text">进程调度时机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%88%E5%AF%B9%E5%BA%94%E4%B8%A4%E4%B8%AA%E8%B0%83%E5%BA%A6%E6%97%B6%E6%9C%BA%EF%BC%89"><span class="toc-number">4.6.5.4.</span> <span class="toc-text">进程调度的方式（对应两个调度时机）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%88%87%E6%8D%A2%E4%B8%8E%E8%BF%87%E7%A8%8B"><span class="toc-number">4.6.5.5.</span> <span class="toc-text">进程的切换与过程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%80%9C-%E7%8B%AD%E4%B9%89-%E7%9A%84%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E2%80%9D%E5%92%8C%E2%80%9D%E8%BF%9B%E7%A8%8B%E5%88%87%E6%8D%A2%E2%80%9D%E7%9A%84%E5%8C%BA%E5%88%AB%E2%80%94%E2%80%94-%E5%B9%BF%E4%B9%89-%E7%9A%84%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6"><span class="toc-number">4.6.5.5.1.</span> <span class="toc-text">“&#x3D;&#x3D;狭义&#x3D;&#x3D;的进程调度”和”进程切换”的区别——&#x3D;&#x3D;广义&#x3D;&#x3D;的进程调度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B"><span class="toc-number">4.6.5.5.2.</span> <span class="toc-text">过程</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-7"><span class="toc-number">4.6.5.6.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95%E7%9A%84%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="toc-number">4.6.6.</span> <span class="toc-text">调度算法的评价指标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%80%BB%E8%A7%88-3"><span class="toc-number">4.6.6.1.</span> <span class="toc-text">知识总览</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cpu%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">4.6.6.2.</span> <span class="toc-text">cpu利用率</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">4.6.6.3.</span> <span class="toc-text">系统吞吐量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%A8%E8%BD%AC%E6%97%B6%E9%97%B4"><span class="toc-number">4.6.6.4.</span> <span class="toc-text">周转时间</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%9B%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%B8%A6%E6%9D%83%E5%91%A8%E8%BD%AC%E6%97%B6%E9%97%B4"><span class="toc-number">4.6.6.4.1.</span> <span class="toc-text">进一步：带权周转时间</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%89%E5%BE%85%E6%97%B6%E9%97%B4"><span class="toc-number">4.6.6.5.</span> <span class="toc-text">等待时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4"><span class="toc-number">4.6.6.6.</span> <span class="toc-text">响应时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-8"><span class="toc-number">4.6.6.7.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-number">4.6.7.</span> <span class="toc-text">&#x3D;&#x3D;调度算法&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%80%BB%E8%A7%88-4"><span class="toc-number">4.6.7.1.</span> <span class="toc-text">知识总览</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E6%80%9D%E8%B7%AF"><span class="toc-number">4.6.7.2.</span> <span class="toc-text">学习思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FCFS%E7%AE%97%E6%B3%95"><span class="toc-number">4.6.7.3.</span> <span class="toc-text">FCFS算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SJF%E7%AE%97%E6%B3%95"><span class="toc-number">4.6.7.4.</span> <span class="toc-text">SJF算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%9E%E6%8A%A2%E5%8D%A0%E5%BC%8F"><span class="toc-number">4.6.7.4.1.</span> <span class="toc-text">非抢占式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A2%E5%8D%A0%E5%BC%8F%E2%80%94%E2%80%94SRTN"><span class="toc-number">4.6.7.4.2.</span> <span class="toc-text">抢占式——SRTN</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%B8%80%E4%BA%9B%E7%BB%86%E8%8A%82"><span class="toc-number">4.6.7.4.3.</span> <span class="toc-text">注意一些细节</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HRRT%E7%AE%97%E6%B3%95"><span class="toc-number">4.6.7.5.</span> <span class="toc-text">HRRT算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-9"><span class="toc-number">4.6.7.6.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E7%89%87%E8%BD%AE%E8%BD%AC%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95%EF%BC%88RR%EF%BC%89"><span class="toc-number">4.6.7.7.</span> <span class="toc-text">时间片轮转调度算法（RR）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E8%88%AC%E6%9D%A5%E8%AF%B4%EF%BC%8C%E8%AE%BE%E8%AE%A1%E6%97%B6%E9%97%B4%E7%89%87%E6%97%B6%E8%AE%A9%E8%AE%A9%E5%88%87%E6%8D%A2%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%BC%80%E9%94%80%E5%8D%A0%E6%AF%94%E4%B8%8D%E8%B6%85%E8%BF%871"><span class="toc-number">4.6.7.8.</span> <span class="toc-text">一般来说，设计时间片时让让切换进程的开销占比不超过1%</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-number">4.6.7.9.</span> <span class="toc-text">优先级调度算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-number">4.6.7.9.1.</span> <span class="toc-text">补充</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%BA%A7%E5%8F%8D%E9%A6%88%E9%98%9F%E5%88%97%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95-MLFQ"><span class="toc-number">4.6.7.10.</span> <span class="toc-text">多级反馈队列调度算法(MLFQ)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-10"><span class="toc-number">4.6.7.11.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%A9%E7%A5%A8%E8%B0%83%E5%BA%A6%EF%BC%88lottery-scheduling%EF%BC%89"><span class="toc-number">4.6.7.12.</span> <span class="toc-text">彩票调度（lottery scheduling）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%80%9D%E6%83%B3"><span class="toc-number">4.6.7.12.1.</span> <span class="toc-text">基本思想</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%95%BF%E8%B0%83%E5%BA%A6%EF%BC%88stride-scheduling%EF%BC%89"><span class="toc-number">4.6.7.13.</span> <span class="toc-text">步长调度（stride scheduling）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5-%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5"><span class="toc-number">4.7.</span> <span class="toc-text">进程同步&#x2F;进程互斥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="toc-number">4.7.1.</span> <span class="toc-text">什么是进程同步</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">4.7.1.1.</span> <span class="toc-text">例子</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5"><span class="toc-number">4.7.2.</span> <span class="toc-text">什么是进程互斥</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BA%86%E5%AE%9E%E7%8E%B0%E4%B8%B4%E7%95%8C%E8%B5%84%E6%BA%90%E7%9A%84%E4%BA%92%E6%96%A5%E8%AE%BF%E9%97%AE%EF%BC%8C%E5%90%8C%E6%97%B6%E4%BF%9D%E8%AF%81%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD%EF%BC%8C%E9%9C%80%E8%A6%81%E9%81%B5%E5%BE%AA%E4%BB%A5%E4%B8%8B%E8%A7%84%E5%88%99"><span class="toc-number">4.7.2.1.</span> <span class="toc-text">为了实现临界资源的互斥访问，同时保证系统性能，需要遵循以下规则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-11"><span class="toc-number">4.7.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%81"><span class="toc-number">4.7.4.</span> <span class="toc-text">锁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Pthread%E9%94%81"><span class="toc-number">4.7.4.1.</span> <span class="toc-text">Pthread锁</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E6%97%8B%E9%94%81"><span class="toc-number">4.7.4.2.</span> <span class="toc-text">自旋锁</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E9%94%81%E7%9A%84%E5%B9%B6%E5%8F%91%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">4.7.5.</span> <span class="toc-text">基于锁的并发数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="toc-number">4.7.5.1.</span> <span class="toc-text">并发计数器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E9%93%BE%E8%A1%A8"><span class="toc-number">4.7.5.2.</span> <span class="toc-text">并发链表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">4.7.5.3.</span> <span class="toc-text">注意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E9%98%9F%E5%88%97"><span class="toc-number">4.7.5.4.</span> <span class="toc-text">并发队列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E6%95%A3%E5%88%97%E8%A1%A8"><span class="toc-number">4.7.5.5.</span> <span class="toc-text">并发散列表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F"><span class="toc-number">4.7.6.</span> <span class="toc-text">条件变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%86%E7%9B%96%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.7.6.1.</span> <span class="toc-text">覆盖条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E5%81%87%E5%94%A4%E9%86%92"><span class="toc-number">4.7.6.2.</span> <span class="toc-text">虚假唤醒</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5-%E8%BD%AF%E4%BB%B6-%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-number">4.7.7.</span> <span class="toc-text">进程互斥&#x3D;&#x3D;软件&#x3D;&#x3D;实现方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%A0%87%E5%BF%97%E6%B3%95%E2%80%94%E2%80%94%E9%97%AE%E9%A2%98%EF%BC%9A%EF%BC%9F%EF%BC%9F%E5%85%B6%E4%BB%96%E5%B0%B1%E4%B8%8D%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%A9%BA%E9%97%B2%E8%AE%A9%E8%BF%9B%E5%90%97%EF%BC%9F%EF%BC%9F"><span class="toc-number">4.7.7.1.</span> <span class="toc-text">单标志法——问题：？？其他就不会出现空闲让进吗？？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E6%A0%87%E5%BF%97%E5%85%88%E6%A3%80%E6%9F%A5%E6%B3%95%E2%80%94%E2%80%94%E9%97%AE%E9%A2%98%EF%BC%9A%E4%B8%80%E8%B5%B7%E8%BF%9B%E5%85%A5"><span class="toc-number">4.7.7.2.</span> <span class="toc-text">双标志先检查法——问题：一起进入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E6%A0%87%E5%BF%97%E5%90%8E%E6%A3%80%E6%9F%A5%E6%B3%95%E2%80%94%E2%80%94%E9%97%AE%E9%A2%98%EF%BC%9A%E4%B8%80%E8%B5%B7%E7%AD%89%E5%BE%85"><span class="toc-number">4.7.7.3.</span> <span class="toc-text">双标志后检查法——问题：一起等待</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Peterson%E7%AE%97%E6%B3%95"><span class="toc-number">4.7.7.4.</span> <span class="toc-text">Peterson算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-12"><span class="toc-number">4.7.7.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5-%E7%A1%AC%E4%BB%B6-%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-number">4.7.8.</span> <span class="toc-text">进程互斥&#x3D;&#x3D;硬件&#x3D;&#x3D;实现方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%B1%8F%E8%94%BD%E6%B3%95"><span class="toc-number">4.7.8.1.</span> <span class="toc-text">中断屏蔽法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%98%E7%82%B9"><span class="toc-number">4.7.8.1.1.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9"><span class="toc-number">4.7.8.1.2.</span> <span class="toc-text">缺点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TestAndSet%E6%8C%87%E4%BB%A4"><span class="toc-number">4.7.8.2.</span> <span class="toc-text">TestAndSet指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swap%E6%8C%87%E4%BB%A4"><span class="toc-number">4.7.8.3.</span> <span class="toc-text">Swap指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CompareAndSwap%E6%8C%87%E4%BB%A4"><span class="toc-number">4.7.8.4.</span> <span class="toc-text">CompareAndSwap指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E5%8A%A0%E8%BD%BD%E5%92%8C%E6%9D%A1%E4%BB%B6%E5%BC%8F%E5%AD%98%E5%82%A8"><span class="toc-number">4.7.8.5.</span> <span class="toc-text">链接加载和条件式存储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fetch-and-add%E6%8C%87%E4%BB%A4"><span class="toc-number">4.7.8.6.</span> <span class="toc-text">fetch-and-add指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-13"><span class="toc-number">4.7.8.7.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E6%97%8B%E8%BF%87%E5%A4%9A%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="toc-number">4.7.9.</span> <span class="toc-text">自旋过多怎么办</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%BE%E5%BC%83CPU"><span class="toc-number">4.7.9.1.</span> <span class="toc-text">放弃CPU</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%98%9F%E5%88%97%EF%BC%9A%E4%BC%91%E7%9C%A0%E4%BB%A3%E6%9B%BF%E8%87%AA%E6%97%8B"><span class="toc-number">4.7.9.2.</span> <span class="toc-text">使用队列：休眠代替自旋</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E9%87%8F%E6%9C%BA%E5%88%B6"><span class="toc-number">4.7.10.</span> <span class="toc-text">信息量机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">4.7.10.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="toc-number">4.7.10.2.</span> <span class="toc-text">信号量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B4%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="toc-number">4.7.10.2.1.</span> <span class="toc-text">整型信号量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F%E2%80%94%E2%80%94%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97"><span class="toc-number">4.7.10.2.2.</span> <span class="toc-text">记录型信号量——阻塞队列</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5-%E4%BF%A1%E5%8F%B7%E9%87%8F-%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-number">4.7.10.3.</span> <span class="toc-text">进程互斥&#x3D;&#x3D;信号量&#x3D;&#x3D;实现方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5-%E4%BF%A1%E5%8F%B7%E9%87%8F-%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-number">4.7.10.4.</span> <span class="toc-text">进程同步&#x3D;&#x3D;信号量&#x3D;&#x3D;实现方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%89%8D%E9%A9%B1%E5%85%B3%E7%B3%BB"><span class="toc-number">4.7.10.5.</span> <span class="toc-text">实现进程的前驱关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-14"><span class="toc-number">4.7.10.6.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#p-v"><span class="toc-number">4.7.10.7.</span> <span class="toc-text">p-v</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="toc-number">4.7.10.7.1.</span> <span class="toc-text">生产者-消费者问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E7%94%9F%E4%BA%A7%E8%80%85%E5%A4%9A%E6%B6%88%E8%B4%B9%E8%80%85"><span class="toc-number">4.7.10.7.2.</span> <span class="toc-text">多生产者多消费者</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%B8%E7%83%9F%E8%80%85%E9%97%AE%E9%A2%98"><span class="toc-number">4.7.10.7.3.</span> <span class="toc-text">吸烟者问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%BB%E8%80%85-%E5%86%99%E8%80%85%E9%97%AE%E9%A2%98"><span class="toc-number">4.7.10.7.4.</span> <span class="toc-text">读者-写者问题</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0-1"><span class="toc-number">4.7.10.8.</span> <span class="toc-text">如何实现</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%93%B2%E5%AD%A6%E5%AE%B6%E8%BF%9B%E9%A4%90%E9%97%AE%E9%A2%98"><span class="toc-number">4.7.10.8.1.</span> <span class="toc-text">哲学家进餐问题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E7%A8%8B"><span class="toc-number">4.7.11.</span> <span class="toc-text">管程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%BC%95%E5%85%A5%E7%AE%A1%E7%A8%8B"><span class="toc-number">4.7.11.1.</span> <span class="toc-text">为什么要引入管程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%A1%E7%A8%8B%E5%AE%9A%E4%B9%89%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%89%B9%E5%BE%81"><span class="toc-number">4.7.11.2.</span> <span class="toc-text">管程定义和基本特征</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-15"><span class="toc-number">4.7.11.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E6%AD%BB%E9%94%81%E7%9A%84%E7%BC%BA%E9%99%B7"><span class="toc-number">4.8.</span> <span class="toc-text">非死锁的缺陷</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9D%E5%8F%8D%E5%8E%9F%E5%AD%90%E6%80%A7%E7%BC%BA%E9%99%B7"><span class="toc-number">4.8.1.</span> <span class="toc-text">违反原子性缺陷</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E9%A1%BA%E5%BA%8F%E7%BC%BA%E9%99%B7"><span class="toc-number">4.8.2.</span> <span class="toc-text">错误顺序缺陷</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%BB%E9%94%81"><span class="toc-number">4.9.</span> <span class="toc-text">死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%EF%BC%8C%E9%A5%A5%E9%A5%BF%E5%92%8C%E6%AD%BB%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">4.9.1.</span> <span class="toc-text">死锁，饥饿和死循环的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E5%BF%85%E8%A6%81%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.9.2.</span> <span class="toc-text">死锁的必要条件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA%E4%B8%AD%E7%9A%84%E6%AD%BB%E9%94%81%E5%BF%85%E8%A6%81%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.9.2.1.</span> <span class="toc-text">操作系统导论中的死锁必要条件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-16"><span class="toc-number">4.9.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5%E2%80%94%E2%80%94%E9%A2%84%E9%98%B2%E6%AD%BB%E9%94%81"><span class="toc-number">4.9.4.</span> <span class="toc-text">死锁的处理策略——预防死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%B4%E5%9D%8F%E4%BA%92%E6%96%A5%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.9.4.1.</span> <span class="toc-text">破坏互斥条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%B4%E5%9D%8F%E4%B8%8D%E5%89%A5%E5%A4%BA%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.9.4.2.</span> <span class="toc-text">破坏不剥夺条件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AF%BC%E8%AE%BA%E4%B8%AD%E6%8F%90%E5%8F%8A%E6%B4%BB%E9%94%81%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">4.9.4.2.1.</span> <span class="toc-text">操作系统导论中提及活锁的概念</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%B4%E5%9D%8F%E8%AF%B7%E6%B1%82%E5%92%8C%E4%BF%9D%E6%8C%81%E6%9D%A1%E4%BB%B6%EF%BC%88%E6%8C%81%E6%9C%89%E5%B9%B6%E7%AD%89%E5%BE%85%EF%BC%89"><span class="toc-number">4.9.4.3.</span> <span class="toc-text">破坏请求和保持条件（持有并等待）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%B4%E5%9D%8F%E5%BE%AA%E7%8E%AF%E7%AD%89%E5%BE%85%E6%9D%A1%E4%BB%B6"><span class="toc-number">4.9.4.4.</span> <span class="toc-text">破坏循环等待条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-17"><span class="toc-number">4.9.4.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5%E2%80%94%E2%80%94%E9%81%BF%E5%85%8D%E6%AD%BB%E9%94%81"><span class="toc-number">4.9.5.</span> <span class="toc-text">死锁的处理策略——避免死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5"><span class="toc-number">4.9.5.1.</span> <span class="toc-text">什么是安全策略</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E5%BA%8F%E5%88%97%E3%80%81%E4%B8%8D%E5%AE%89%E5%85%A8%E7%8A%B6%E6%80%81%E3%80%81%E6%AD%BB%E9%94%81%E7%9A%84%E8%81%94%E7%B3%BB"><span class="toc-number">4.9.5.2.</span> <span class="toc-text">安全序列、不安全状态、死锁的联系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95"><span class="toc-number">4.9.5.3.</span> <span class="toc-text">银行家算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-18"><span class="toc-number">4.9.5.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E5%A4%84%E7%90%86%E7%AD%96%E7%95%A5%E2%80%94%E2%80%94%E6%A3%80%E6%B5%8B%E5%92%8C%E8%A7%A3%E9%99%A4"><span class="toc-number">4.9.6.</span> <span class="toc-text">死锁的处理策略——检测和解除</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E6%A3%80%E6%B5%8B"><span class="toc-number">4.9.6.1.</span> <span class="toc-text">死锁的检测</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E7%9A%84%E8%A7%A3%E9%99%A4"><span class="toc-number">4.9.6.2.</span> <span class="toc-text">死锁的解除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-19"><span class="toc-number">4.9.6.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0"><span class="toc-number">5.</span> <span class="toc-text">第三章</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">5.1.</span> <span class="toc-text">内存的基础知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">5.2.</span> <span class="toc-text">内存管理的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A6%86%E7%9B%96%E4%B8%8E%E4%BA%A4%E6%8D%A2"><span class="toc-number">5.3.</span> <span class="toc-text">覆盖与交换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A6%86%E7%9B%96%E6%8A%80%E6%9C%AF"><span class="toc-number">5.3.1.</span> <span class="toc-text">覆盖技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E6%8A%80%E6%9C%AF"><span class="toc-number">5.3.2.</span> <span class="toc-text">交换技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-20"><span class="toc-number">5.3.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F"><span class="toc-number">5.4.</span> <span class="toc-text">连续分配管理方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%B8%80%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D"><span class="toc-number">5.4.1.</span> <span class="toc-text">单一连续分配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BA%E5%AE%9A%E5%88%86%E5%8C%BA%E5%88%86%E9%85%8D"><span class="toc-number">5.4.2.</span> <span class="toc-text">固定分区分配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%88%86%E5%8C%BA%E5%88%86%E9%85%8D"><span class="toc-number">5.4.3.</span> <span class="toc-text">动态分区分配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-21"><span class="toc-number">5.4.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%88%86%E5%8C%BA%E4%B8%8E%E5%88%86%E9%85%8D%E7%AE%97%E6%B3%95"><span class="toc-number">5.4.5.</span> <span class="toc-text">动态分区与分配算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A6%96%E6%AC%A1%E9%80%82%E5%BA%94%E7%AE%97%E6%B3%95"><span class="toc-number">5.4.5.1.</span> <span class="toc-text">首次适应算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E9%80%82%E5%BA%94%E7%AE%97%E6%B3%95"><span class="toc-number">5.4.5.2.</span> <span class="toc-text">最佳适应算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E5%9D%8F%E9%80%82%E5%BA%94%E7%AE%97%E6%B3%95"><span class="toc-number">5.4.5.3.</span> <span class="toc-text">最坏适应算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%82%BB%E8%BF%91%E9%80%82%E5%BA%94%E7%AE%97%E6%B3%95"><span class="toc-number">5.4.5.4.</span> <span class="toc-text">邻近适应算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-22"><span class="toc-number">5.4.5.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%E7%9A%84%E7%BC%BA%E7%82%B9"><span class="toc-number">5.4.6.</span> <span class="toc-text">连续分配方式的缺点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F"><span class="toc-number">5.5.</span> <span class="toc-text">非连续分配管理方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%88%86%E9%A1%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">5.5.1.</span> <span class="toc-text">&#x3D;&#x3D;基本分页存储管理&#x3D;&#x3D;的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9D%80%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">5.5.1.1.</span> <span class="toc-text">如何实现地址的转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA"><span class="toc-number">5.5.1.2.</span> <span class="toc-text">结论</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84"><span class="toc-number">5.5.1.3.</span> <span class="toc-text">逻辑地址结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E8%A1%A8%E2%80%94%E2%80%94%E9%9A%90%E5%BC%8F%E9%A1%B5%E5%8F%B7"><span class="toc-number">5.5.1.4.</span> <span class="toc-text">页表——隐式页号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-23"><span class="toc-number">5.5.1.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%9C%B0%E5%9D%80%E5%8F%98%E6%8D%A2%E6%9C%BA%E6%9E%84"><span class="toc-number">5.5.2.</span> <span class="toc-text">基本地址变换机构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E9%A1%B5%E9%9D%A2%E6%9D%A5%E5%AD%98%E9%A1%B5%E8%A1%A8%E9%A1%B9"><span class="toc-number">5.5.2.1.</span> <span class="toc-text">用页面来存页表项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90-1"><span class="toc-number">5.5.2.2.</span> <span class="toc-text">例子</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-24"><span class="toc-number">5.5.2.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E6%9C%89%E5%BF%AB%E8%A1%A8%E7%9A%84%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E6%9C%BA%E6%9E%84"><span class="toc-number">5.5.3.</span> <span class="toc-text">具有快表的地址转换机构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BF%AB%E8%A1%A8%EF%BC%88TLB%EF%BC%89"><span class="toc-number">5.5.3.1.</span> <span class="toc-text">快表（TLB）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#TLB%E6%9B%BF%E6%8D%A2%E7%AD%96%E7%95%A5"><span class="toc-number">5.5.3.1.1.</span> <span class="toc-text">TLB替换策略</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%A4%84%E7%90%86%E5%99%A8%EF%BC%88CPU%EF%BC%89%E8%B0%83%E5%BA%A6"><span class="toc-number">5.5.3.2.</span> <span class="toc-text">多处理器（CPU）调度</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7"><span class="toc-number">5.5.3.2.1.</span> <span class="toc-text">缓存一致性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E4%BA%B2%E5%92%8C%E6%80%A7"><span class="toc-number">5.5.3.2.2.</span> <span class="toc-text">缓存亲和性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E9%98%9F%E5%88%97%E8%B0%83%E5%BA%A6SQMS"><span class="toc-number">5.5.3.2.3.</span> <span class="toc-text">单队列调度SQMS</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E9%98%9F%E5%88%97%E8%B0%83%E5%BA%A6MQMS"><span class="toc-number">5.5.3.2.4.</span> <span class="toc-text">多队列调度MQMS</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%BF%AB%E8%A1%A8%E5%90%8E%EF%BC%8C%E5%9C%B0%E5%9D%80%E7%9A%84%E5%8F%98%E6%8D%A2%E8%BF%87%E7%A8%8B"><span class="toc-number">5.5.3.3.</span> <span class="toc-text">引入快表后，地址的变换过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-25"><span class="toc-number">5.5.3.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%A4%E7%BA%A7%E9%A1%B5%E8%A1%A8"><span class="toc-number">5.5.4.</span> <span class="toc-text">两级页表</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E4%B8%80-%EF%BC%9A-%E5%8D%95%E4%B8%AA%E9%A1%B5%E8%A1%A8%E5%8D%A0%E7%94%A8%E8%BF%9E%E7%BB%AD%E9%A1%B5%E6%A1%86"><span class="toc-number">5.5.4.1.</span> <span class="toc-text">问题一 ：&#x3D;&#x3D;单个页表占用连续页框&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A4%E7%BA%A7%E9%A1%B5%E8%A1%A8%E7%9A%84%E5%8E%9F%E7%90%86%E3%80%81%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84"><span class="toc-number">5.5.4.1.1.</span> <span class="toc-text">两级页表的原理、地址结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E2%80%94%E2%80%94%E4%B8%A4%E7%BA%A7%E9%A1%B5%E8%A1%A8"><span class="toc-number">5.5.4.1.2.</span> <span class="toc-text">如何实现地址转换——两级页表</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E4%BA%8C"><span class="toc-number">5.5.4.2.</span> <span class="toc-text">问题二</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E5%87%A0%E4%B8%AA%E7%BB%86%E8%8A%82"><span class="toc-number">5.5.4.3.</span> <span class="toc-text">需要注意的几个细节</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-26"><span class="toc-number">5.5.4.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%88%86%E6%AE%B5%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86-%E6%96%B9%E5%BC%8F"><span class="toc-number">5.5.5.</span> <span class="toc-text">&#x3D;&#x3D;基本分段存储管理&#x3D;&#x3D;方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%AE%B5"><span class="toc-number">5.5.5.1.</span> <span class="toc-text">分段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AE%B5%E8%A1%A8"><span class="toc-number">5.5.5.2.</span> <span class="toc-text">段表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2"><span class="toc-number">5.5.5.3.</span> <span class="toc-text">地址转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-27"><span class="toc-number">5.5.5.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%AE%B5%E3%80%81%E5%88%86%E9%A1%B5%E7%AE%A1%E7%90%86%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">5.5.6.</span> <span class="toc-text">分段、分页管理的对比</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%AE%B5%E7%9A%84%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E6%98%AF%E4%BA%8C%E7%BB%B4%E7%9A%84%EF%BC%9A%E5%9B%A0%E4%B8%BA%E5%88%86%E6%AE%B5%E7%9A%84%E6%AF%8F%E4%B8%AA%E6%AE%B5%E7%9A%84%E9%95%BF%E5%BA%A6%E4%B8%8D%E5%90%8C%EF%BC%8C%E9%9C%80%E8%A6%81%E6%A3%80%E6%9F%A5%E5%81%8F%E7%A7%BB%E9%87%8F%E6%98%AF%E5%90%A6%E8%B6%8A%E7%95%8C%EF%BC%8C%E6%89%80%E4%BB%A5%E8%A6%81%E4%BC%A0%E5%85%A5%E6%AE%B5%E5%86%85%E5%9C%B0%E5%9D%80"><span class="toc-number">5.5.6.1.</span> <span class="toc-text">分段的地址空间是二维的：因为分段的每个段的长度不同，需要检查偏移量是否越界，所以要传入段内地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B1%87%E6%80%BB"><span class="toc-number">5.5.6.2.</span> <span class="toc-text">汇总</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AE%B5%E9%A1%B5%E5%BC%8F%E5%88%86%E6%AE%B5%E7%AE%A1%E7%90%86"><span class="toc-number">5.5.7.</span> <span class="toc-text">&#x3D;&#x3D;段页式分段管理&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E3%80%81%E5%88%86%E6%AE%B5%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">5.5.7.1.</span> <span class="toc-text">分页、分段优缺点分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%AE%B5-%E5%88%86%E9%A1%B5-%E6%AE%B5%E9%A1%B5%E5%BC%8F%E7%AE%A1%E7%90%86"><span class="toc-number">5.5.7.2.</span> <span class="toc-text">分段+分页&#x3D;段页式管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AE%B5%E9%A1%B5%E5%BC%8F%E7%AE%A1%E7%90%86%E7%9A%84%E9%80%BB%E8%BE%91%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84"><span class="toc-number">5.5.7.3.</span> <span class="toc-text">段页式管理的逻辑地址结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AE%B5%E8%A1%A8%E3%80%81%E9%A1%B5%E8%A1%A8"><span class="toc-number">5.5.7.4.</span> <span class="toc-text">段表、页表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2-1"><span class="toc-number">5.5.7.5.</span> <span class="toc-text">地址转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-28"><span class="toc-number">5.5.7.6.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">5.6.</span> <span class="toc-text">虚拟内存的基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F%E7%9A%84%E7%89%B9%E5%BE%81%EF%BC%8C%E7%BC%BA%E7%82%B9"><span class="toc-number">5.6.1.</span> <span class="toc-text">传统存储管理方式的特征，缺点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E6%80%A7%E5%8E%9F%E7%90%86"><span class="toc-number">5.6.2.</span> <span class="toc-text">局部性原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E7%89%B9%E5%BE%81"><span class="toc-number">5.6.3.</span> <span class="toc-text">虚拟内存的定义和特征</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E6%8A%80%E6%9C%AF"><span class="toc-number">5.6.4.</span> <span class="toc-text">如何实现虚拟存储技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-29"><span class="toc-number">5.6.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%88%86%E9%A1%B5%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F"><span class="toc-number">5.6.6.</span> <span class="toc-text">请求分页管理方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E8%A1%A8%E6%9C%BA%E5%88%B6"><span class="toc-number">5.6.6.1.</span> <span class="toc-text">页表机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E9%A1%B5%E4%B8%AD%E6%96%AD%E6%9C%BA%E6%9E%84"><span class="toc-number">5.6.6.2.</span> <span class="toc-text">缺页中断机构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E5%8F%98%E6%8D%A2%E6%9C%BA%E6%9E%84"><span class="toc-number">5.6.6.3.</span> <span class="toc-text">地址变换机构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E6%B5%81%E7%A8%8B"><span class="toc-number">5.6.6.4.</span> <span class="toc-text">地址转换流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-30"><span class="toc-number">5.6.6.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95%E2%80%94%E8%B0%83%E5%87%BA%E9%A9%BB%E7%95%99%E9%9B%86"><span class="toc-number">5.6.7.</span> <span class="toc-text">页面置换算法—调出驻留集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95%EF%BC%88OPT%EF%BC%89"><span class="toc-number">5.6.7.1.</span> <span class="toc-text">最佳置换算法（OPT）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%88%E8%BF%9B%E5%85%88%E5%87%BA%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95%EF%BC%88FIFO%EF%BC%89"><span class="toc-number">5.6.7.2.</span> <span class="toc-text">先进先出置换算法（FIFO）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E8%BF%91%E6%9C%80%E4%B9%85-%E6%9C%AA%E4%BD%BF%E7%94%A8%E7%AE%97%E6%B3%95%EF%BC%88LRU%EF%BC%89"><span class="toc-number">5.6.7.3.</span> <span class="toc-text">&#x3D;&#x3D;最近最久&#x3D;&#x3D;未使用算法（LRU）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%92%9F%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95%EF%BC%88CLOCK%EF%BC%89-%E6%9C%80%E8%BF%91-%E6%9C%AA%E7%94%A8%E7%AE%97%E6%B3%95%EF%BC%88NRU%EF%BC%89"><span class="toc-number">5.6.7.4.</span> <span class="toc-text">时钟置换算法（CLOCK）&#x2F; &#x3D;&#x3D;最近&#x3D;&#x3D;未用算法（NRU）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E6%97%B6%E9%92%9F%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95"><span class="toc-number">5.6.7.4.1.</span> <span class="toc-text">简单的时钟置换算法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B%E5%9E%8B%E7%9A%84%E6%97%B6%E9%92%9F%E7%BD%AE%E6%8D%A2%E7%AE%97%E6%B3%95"><span class="toc-number">5.6.7.4.2.</span> <span class="toc-text">改进型的时钟置换算法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-31"><span class="toc-number">5.6.7.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E7%AD%96%E7%95%A5%EF%BC%9A%E4%B8%8D%E4%BC%9A%E5%87%BA%E7%8E%B0%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5%E4%B8%8B%E5%A5%87%E6%80%AA%E7%9A%84%E7%BB%93%E6%9E%9C"><span class="toc-number">5.7.</span> <span class="toc-text">随机策略：不会出现特殊情况下奇怪的结果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%88%86%E9%85%8D%E3%80%81%E7%BD%AE%E6%8D%A2%E7%AD%96%E7%95%A5%EF%BC%88%E8%B0%83%E5%85%A5%E9%A9%BB%E7%95%99%E9%9B%86%EF%BC%89"><span class="toc-number">5.7.1.</span> <span class="toc-text">页面分配、置换策略（调入驻留集）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A9%BB%E7%95%99%E9%9B%86"><span class="toc-number">5.7.1.1.</span> <span class="toc-text">驻留集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%95%E6%97%B6%E8%B0%83%E5%85%A5%E9%A1%B5%E9%9D%A2"><span class="toc-number">5.7.1.2.</span> <span class="toc-text">何时调入页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%95%E5%A4%84%E8%B0%83%E5%85%A5%E9%A1%B5%E9%9D%A2"><span class="toc-number">5.7.1.3.</span> <span class="toc-text">何处调入页面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%96%E5%8A%A8%EF%BC%88%E9%A2%A0%E7%B0%B8%EF%BC%89%E7%8E%B0%E8%B1%A1"><span class="toc-number">5.7.1.4.</span> <span class="toc-text">抖动（颠簸）现象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E9%9B%86"><span class="toc-number">5.7.1.4.1.</span> <span class="toc-text">工作集</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-32"><span class="toc-number">5.7.1.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0"><span class="toc-number">6.</span> <span class="toc-text">第四章</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-number">6.1.</span> <span class="toc-text">初始文件管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%90%91%E4%B8%8A%E6%8F%90%E4%BE%9B%E4%BA%86%E5%93%AA%E4%BA%9B%E5%8A%9F%E8%83%BD"><span class="toc-number">6.1.1.</span> <span class="toc-text">操作系统向上提供了哪些功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E%E4%B8%8A%E5%BE%80%E4%B8%8B%E7%9C%8B%EF%BC%8C%E6%96%87%E4%BB%B6%E5%BA%94%E5%A6%82%E4%BD%95%E5%AD%98%E5%85%A5%E5%88%B0%E5%A4%96%E5%AD%98"><span class="toc-number">6.1.2.</span> <span class="toc-text">从上往下看，文件应如何存入到外存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%9C%80%E8%A6%81%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD"><span class="toc-number">6.1.3.</span> <span class="toc-text">其他需要操作系统实现的文件管理功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-%E2%80%94%E2%80%94%E6%A1%86%E6%9E%B6"><span class="toc-number">6.1.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;——框架</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-number">6.2.</span> <span class="toc-text">文件的逻辑结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6"><span class="toc-number">6.2.1.</span> <span class="toc-text">无结构文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6"><span class="toc-number">6.2.2.</span> <span class="toc-text">有结构文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E9%95%BF%E8%AE%B0%E5%BD%95"><span class="toc-number">6.2.2.1.</span> <span class="toc-text">定长记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E9%95%BF%E8%AE%B0%E5%BD%95"><span class="toc-number">6.2.2.2.</span> <span class="toc-text">可变长记录</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-number">6.2.3.</span> <span class="toc-text">有结构文件的逻辑结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6"><span class="toc-number">6.2.3.1.</span> <span class="toc-text">顺序文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6%E5%8F%AF%E4%BB%A5%E5%AE%9A%E6%9C%9F%E5%86%99%E5%85%A5%E5%A4%96%E5%AD%98%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%87%8F%E5%B0%91%E5%A2%9E%E5%88%A0%E6%AC%A1%E6%95%B0"><span class="toc-number">6.2.3.2.</span> <span class="toc-text">顺序文件可以定期写入外存，可以减少增删次数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E6%96%87%E4%BB%B6"><span class="toc-number">6.2.3.3.</span> <span class="toc-text">索引文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E9%A1%BA%E5%BA%8F%E8%A1%A8"><span class="toc-number">6.2.3.4.</span> <span class="toc-text">索引顺序表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-33"><span class="toc-number">6.2.3.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-34"><span class="toc-number">6.2.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="toc-number">6.3.</span> <span class="toc-text">文件目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%8E%A7%E5%88%B6%E5%9D%97"><span class="toc-number">6.3.1.</span> <span class="toc-text">文件控制块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#FCB-%E7%9B%AE%E5%BD%95%E9%A1%B9"><span class="toc-number">6.3.1.1.</span> <span class="toc-text">FCB 目录项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">6.3.2.</span> <span class="toc-text">目录结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">6.3.2.1.</span> <span class="toc-text">单级目录结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">6.3.2.2.</span> <span class="toc-text">两级目录结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-%E6%A0%91%E5%BD%A2%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">6.3.2.3.</span> <span class="toc-text">多级目录结构 树形目录结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E7%8E%AF%E5%9B%BE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">6.3.2.4.</span> <span class="toc-text">无环图目录结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E8%8A%82%E7%82%B9%EF%BC%88FCB%E7%9A%84%E6%94%B9%E8%BF%9B%EF%BC%89"><span class="toc-number">6.3.3.</span> <span class="toc-text">索引节点（FCB的改进）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-35"><span class="toc-number">6.3.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84-%E6%96%87%E4%BB%B6%E7%9A%84%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">6.4.</span> <span class="toc-text">文件的物理结构 文件的分配方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%9D%97%E3%80%81%E7%A3%81%E7%9B%98%E5%9D%97"><span class="toc-number">6.4.1.</span> <span class="toc-text">文件块、磁盘块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">6.4.2.</span> <span class="toc-text">文件分配方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D"><span class="toc-number">6.4.2.1.</span> <span class="toc-text">连续分配</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2-2"><span class="toc-number">6.4.2.1.1.</span> <span class="toc-text">地址转换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%98%E7%82%B9-1"><span class="toc-number">6.4.2.1.2.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9-1"><span class="toc-number">6.4.2.1.3.</span> <span class="toc-text">缺点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B1%87%E6%80%BB-1"><span class="toc-number">6.4.2.1.4.</span> <span class="toc-text">汇总</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E5%88%86%E9%85%8D-%E9%93%BE%E5%BC%8F"><span class="toc-number">6.4.2.2.</span> <span class="toc-text">链接分配 链式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E9%93%BE%E6%8E%A5"><span class="toc-number">6.4.2.2.1.</span> <span class="toc-text">隐式链接</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2-3"><span class="toc-number">6.4.2.2.1.1.</span> <span class="toc-text">地址转换</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%98%BE%E5%BC%8F%E9%93%BE%E6%8E%A5%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E8%A1%A8FAT"><span class="toc-number">6.4.2.2.2.</span> <span class="toc-text">显式链接——文件分配表FAT</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2-4"><span class="toc-number">6.4.2.2.2.1.</span> <span class="toc-text">地址转换</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-36"><span class="toc-number">6.4.2.2.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%88%86%E9%85%8D"><span class="toc-number">6.4.2.3.</span> <span class="toc-text">索引分配</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2-5"><span class="toc-number">6.4.2.3.1.</span> <span class="toc-text">地址转换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E5%88%86%E9%85%8D%E4%B8%AD%E6%98%BE%E5%BC%8F%E5%88%86%E9%85%8D-%E5%92%8C-%E7%B4%A2%E5%BC%95%E5%88%86%E9%85%8D-%E5%8C%BA%E5%88%AB"><span class="toc-number">6.4.2.3.2.</span> <span class="toc-text">链接分配中显式分配 和 索引分配 &#x3D;&#x3D;区别&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E8%A1%A8%E5%A4%AA%E5%A4%A7%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">6.4.2.3.3.</span> <span class="toc-text">索引表太大的解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E6%96%B9%E6%A1%88"><span class="toc-number">6.4.2.3.3.1.</span> <span class="toc-text">链接方案</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%9A%E5%B1%82%E7%B4%A2%E5%BC%95"><span class="toc-number">6.4.2.3.3.2.</span> <span class="toc-text">多层索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E7%B4%A2%E5%BC%95"><span class="toc-number">6.4.2.3.3.3.</span> <span class="toc-text">混合索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-37"><span class="toc-number">6.4.2.3.3.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-38"><span class="toc-number">6.4.2.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86-%E7%A9%BA%E9%97%B2%E7%A3%81%E7%9B%98%E5%9D%97"><span class="toc-number">6.5.</span> <span class="toc-text">文件存储空间管理 空闲磁盘块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%88%92%E5%88%86%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">6.5.1.</span> <span class="toc-text">存储空间的划分与初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86"><span class="toc-number">6.5.2.</span> <span class="toc-text">存储空间管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E9%97%B2%E8%A1%A8%E6%B3%95"><span class="toc-number">6.5.2.1.</span> <span class="toc-text">空闲表法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A9%BA%E9%97%B2%E9%93%BE%E8%A1%A8%E6%B3%95"><span class="toc-number">6.5.2.2.</span> <span class="toc-text">空闲链表法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A9%BA%E9%97%B2%E7%9B%98%E5%9D%97%E9%93%BE"><span class="toc-number">6.5.2.2.1.</span> <span class="toc-text">空闲盘块链</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A9%BA%E9%97%B2%E7%9B%98%E5%9D%97%E5%8C%BA"><span class="toc-number">6.5.2.2.2.</span> <span class="toc-text">空闲盘块区</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E8%A7%86%E5%9B%BE%E6%B3%95"><span class="toc-number">6.5.2.3.</span> <span class="toc-text">位视图法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E9%85%8D%E4%B8%8E%E5%9B%9E%E6%94%B6"><span class="toc-number">6.5.2.3.1.</span> <span class="toc-text">分配与回收</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%88%90%E7%BB%84%E9%93%BE%E6%8E%A5%E6%B3%95"><span class="toc-number">6.5.2.4.</span> <span class="toc-text">成组链接法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#201-299%E9%83%BD%E8%A2%AB%E7%94%A8%E4%BA%86%EF%BC%8C%E4%B8%8D%E6%98%AF%E7%A9%BA%E9%97%B2%E7%9B%98%E5%9D%97"><span class="toc-number">6.5.3.</span> <span class="toc-text">201-299都被用了，不是空闲盘块</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%86%E9%85%8D"><span class="toc-number">6.5.3.0.1.</span> <span class="toc-text">如何分配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%9B%9E%E6%94%B6"><span class="toc-number">6.5.3.0.2.</span> <span class="toc-text">如何回收</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-39"><span class="toc-number">6.5.3.1.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">6.6.</span> <span class="toc-text">文件的基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-number">6.6.1.</span> <span class="toc-text">创建文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">6.6.2.</span> <span class="toc-text">删除文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-number">6.6.3.</span> <span class="toc-text">打开文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="toc-number">6.6.4.</span> <span class="toc-text">关闭文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="toc-number">6.6.5.</span> <span class="toc-text">读文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-number">6.6.6.</span> <span class="toc-text">写文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-40"><span class="toc-number">6.6.7.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="toc-number">6.7.</span> <span class="toc-text">文件共享</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E7%B4%A2%E5%BC%95%E8%8A%82%E7%82%B9%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E7%A1%AC%E9%93%BE%E6%8E%A5%EF%BC%89"><span class="toc-number">6.7.1.</span> <span class="toc-text">基于索引节点的共享方式（硬链接）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E7%AC%A6%E5%8F%B7%E9%93%BE%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E8%BD%AF%E9%93%BE%E6%8E%A5%EF%BC%89%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F"><span class="toc-number">6.7.2.</span> <span class="toc-text">基于符号链的共享方式（软链接）快捷方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-41"><span class="toc-number">6.7.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4"><span class="toc-number">6.8.</span> <span class="toc-text">文件保护</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%A3%E4%BB%A4%E4%BF%9D%E6%8A%A4"><span class="toc-number">6.8.1.</span> <span class="toc-text">口令保护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E5%AF%86%E4%BF%9D%E6%8A%A4"><span class="toc-number">6.8.2.</span> <span class="toc-text">加密保护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">6.8.3.</span> <span class="toc-text">访问控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-42"><span class="toc-number">6.8.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84-%E4%BB%A5%E4%B8%8A%E7%9A%84%E6%B1%87%E6%80%BB"><span class="toc-number">6.9.</span> <span class="toc-text">文件系统的层次结构 以上的汇总</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8F%A5%E6%9F%84"><span class="toc-number">6.9.0.1.</span> <span class="toc-text">文件句柄</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B4%A9%E6%BA%83%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%9AFSCK%E5%92%8C%E6%97%A5%E5%BF%97"><span class="toc-number">6.10.</span> <span class="toc-text">崩溃一致性：FSCK和日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%EF%BC%88LFS%EF%BC%89"><span class="toc-number">6.11.</span> <span class="toc-text">日志结构文件系统（LFS）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">6.12.</span> <span class="toc-text">磁盘的结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E3%80%81%E7%A3%81%E9%81%93%E3%80%81%E6%89%87%E5%8C%BA"><span class="toc-number">6.12.1.</span> <span class="toc-text">磁盘、磁道、扇区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%9C%A8%E7%A3%81%E7%9B%98%E4%B8%AD%E8%AF%BB%E6%95%B0%E6%8D%AE"><span class="toc-number">6.12.2.</span> <span class="toc-text">如何在磁盘中读数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80"><span class="toc-number">6.12.3.</span> <span class="toc-text">磁盘的物理地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">6.12.4.</span> <span class="toc-text">磁盘的分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E7%A4%BA"><span class="toc-number">6.12.5.</span> <span class="toc-text">提示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-43"><span class="toc-number">6.12.6.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95-%E5%AF%BB%E9%81%93%E6%97%B6%E9%97%B4"><span class="toc-number">6.13.</span> <span class="toc-text">磁盘调度算法 寻道时间</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E6%AC%A1%E7%A3%81%E7%9B%98%E8%AF%BB-%E5%86%99%E6%93%8D%E4%BD%9C%E9%9C%80%E8%A6%81%E7%9A%84%E6%97%B6%E9%97%B4"><span class="toc-number">6.13.1.</span> <span class="toc-text">一次磁盘读&#x2F;写操作需要的时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%88%E6%9D%A5%E5%85%88%E6%9C%8D%E5%8A%A1%E7%AE%97%E6%B3%95%EF%BC%88FCFS%EF%BC%89"><span class="toc-number">6.13.2.</span> <span class="toc-text">先来先服务算法（FCFS）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E7%9F%AD%E5%AF%BB%E6%89%BE%E6%97%B6%E9%97%B4%E4%BC%98%E5%85%88%E7%AE%97%E6%B3%95%EF%BC%88SSTF%EF%BC%89"><span class="toc-number">6.13.3.</span> <span class="toc-text">最短寻找时间优先算法（SSTF）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E7%9F%AD%E5%AE%9A%E4%BD%8D%E6%97%B6%E9%97%B4%E4%BC%98%E5%85%88%EF%BC%88SPTF%EF%BC%89"><span class="toc-number">6.13.4.</span> <span class="toc-text">最短定位时间优先（SPTF）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%AB%E6%8F%8F%E7%AE%97%E6%B3%95%EF%BC%88SCAN%EF%BC%89"><span class="toc-number">6.13.5.</span> <span class="toc-text">扫描算法（SCAN）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LOOK%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-number">6.13.6.</span> <span class="toc-text">LOOK调度算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%89%AB%E6%8F%8F%E7%AE%97%E6%B3%95%EF%BC%88C-SCAN%EF%BC%89"><span class="toc-number">6.13.7.</span> <span class="toc-text">循环扫描算法（C-SCAN）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-LOOK%E7%AE%97%E6%B3%95"><span class="toc-number">6.13.8.</span> <span class="toc-text">C-LOOK算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%B0%83%E5%BA%A6%E9%97%AE%E9%A2%98"><span class="toc-number">6.13.9.</span> <span class="toc-text">其他调度问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-44"><span class="toc-number">6.13.10.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%8F%E5%B0%91%E5%BB%B6%E8%BF%9F%E6%97%B6%E9%97%B4%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">6.14.</span> <span class="toc-text">减少延迟时间的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E7%BC%96%E5%8F%B7-%E7%9B%B8%E5%90%8C%E7%A3%81%E7%9B%98%E5%8F%B7%E4%B8%8B"><span class="toc-number">6.14.1.</span> <span class="toc-text">交换编号 相同磁盘号下</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E9%81%93%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-number">6.14.2.</span> <span class="toc-text">磁道缓冲区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%99%E4%BD%8D%E5%91%BD%E5%90%8D-%E4%B8%8D%E5%90%8C%E7%A3%81%E7%9B%98%E5%8F%B7%E4%B8%8B"><span class="toc-number">6.14.3.</span> <span class="toc-text">错位命名 不同磁盘号下</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86%EF%BC%9A%E7%A3%81%E7%9B%98%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-number">6.14.3.1.</span> <span class="toc-text">背景知识：磁盘地址结构的设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%99%E4%BD%8D%E5%91%BD%E5%90%8D"><span class="toc-number">6.14.3.2.</span> <span class="toc-text">错位命名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-45"><span class="toc-number">6.14.4.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">6.15.</span> <span class="toc-text">磁盘的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">6.15.1.</span> <span class="toc-text">磁盘初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7%E5%92%8C%E4%BF%9D%E6%8A%A4"><span class="toc-number">6.15.2.</span> <span class="toc-text">数据完整性和保护</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B%E8%AE%B9%E8%AF%AF%EF%BC%9A%E6%A3%80%E9%AA%8C%E5%90%97"><span class="toc-number">6.15.2.1.</span> <span class="toc-text">检测讹误：检验吗</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E7%A0%81"><span class="toc-number">6.15.2.1.1.</span> <span class="toc-text">校验码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C"><span class="toc-number">6.15.2.1.2.</span> <span class="toc-text">奇偶校验</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F"><span class="toc-number">6.15.2.2.</span> <span class="toc-text">工作方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">6.15.2.3.</span> <span class="toc-text">优缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E5%92%8C"><span class="toc-number">6.15.2.3.1.</span> <span class="toc-text">校验和</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A0%A1%E9%AA%8C%EF%BC%88CRC%EF%BC%89"><span class="toc-number">6.15.2.3.2.</span> <span class="toc-text">循环冗余校验（CRC）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%A1%E9%AA%8C%E5%92%8C%E5%B8%83%E5%B1%80"><span class="toc-number">6.15.2.3.3.</span> <span class="toc-text">校验和布局</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B9%E8%AF%AF%EF%BC%9A%E9%94%99%E8%AF%AF%E7%9A%84%E5%86%99%E5%85%A5"><span class="toc-number">6.15.2.4.</span> <span class="toc-text">讹误：错误的写入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%B9%E8%AF%AF%EF%BC%9A%E4%B8%A2%E5%A4%B1%E7%9A%84%E5%86%99%E5%85%A5"><span class="toc-number">6.15.2.5.</span> <span class="toc-text">讹误：丢失的写入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%AF%BC%E5%9D%97"><span class="toc-number">6.15.3.</span> <span class="toc-text">引导块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3"><span class="toc-number">6.15.3.1.</span> <span class="toc-text">解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%8F%E5%9D%97%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-number">6.15.4.</span> <span class="toc-text">坏块的管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%89%E4%BB%B7%E5%86%97%E4%BD%99%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97%EF%BC%88RAID%EF%BC%89"><span class="toc-number">6.15.5.</span> <span class="toc-text">廉价冗余磁盘阵列（RAID）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-46"><span class="toc-number">6.15.6.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0"><span class="toc-number">7.</span> <span class="toc-text">第五章</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O%E8%AE%BE%E5%A4%87%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%AA%E5%88%86%E7%B1%BB"><span class="toc-number">7.1.</span> <span class="toc-text">I&#x2F;O设备的概念个分类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFI-O%E8%AE%BE%E5%A4%87"><span class="toc-number">7.1.1.</span> <span class="toc-text">什么是I&#x2F;O设备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O%E8%AE%BE%E5%A4%87%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">7.1.2.</span> <span class="toc-text">I&#x2F;O设备的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E4%BD%BF%E7%94%A8%E7%89%B9%E6%80%A7"><span class="toc-number">7.1.2.1.</span> <span class="toc-text">按使用特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E4%BC%A0%E8%BE%93%E9%80%9F%E7%8E%87%E5%88%86%E7%B1%BB"><span class="toc-number">7.1.2.2.</span> <span class="toc-text">按传输速率分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E4%BF%A1%E6%81%AF%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F%E5%88%86%E7%B1%BB"><span class="toc-number">7.1.2.3.</span> <span class="toc-text">按信息交换方式分类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-47"><span class="toc-number">7.1.3.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O%E6%8E%A7%E5%88%B6%E5%99%A8-%E7%A1%AC%E4%BB%B6%E5%B1%82"><span class="toc-number">7.2.</span> <span class="toc-text">I&#x2F;O控制器 硬件层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O%E7%9A%84%E6%9C%BA%E6%A2%B0%E7%A1%AC%E4%BB%B6"><span class="toc-number">7.2.1.</span> <span class="toc-text">I&#x2F;O的机械硬件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O%E8%AE%BE%E5%A4%87%E7%9A%84%E7%94%B5%E5%AD%90%E9%83%A8%E4%BB%B6-I-O%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="toc-number">7.2.2.</span> <span class="toc-text">I&#x2F;O设备的电子部件 I&#x2F;O控制器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">7.2.3.</span> <span class="toc-text">I&#x2F;O控制器的组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E6%98%A0%E5%83%8FI-O-v-s-%E5%AF%84%E5%AD%98%E5%99%A8%E7%8B%AC%E7%AB%8B%E7%BC%96%E5%9D%80"><span class="toc-number">7.2.4.</span> <span class="toc-text">内存映像I&#x2F;O v.s. 寄存器独立编址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-48"><span class="toc-number">7.2.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F-%E7%A1%AC%E4%BB%B6%E5%B1%82"><span class="toc-number">7.3.</span> <span class="toc-text">I&#x2F;O控制方式 硬件层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E7%9B%B4%E6%8E%A5%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8Fpoll%E8%BD%AE%E8%AF%A2"><span class="toc-number">7.3.1.</span> <span class="toc-text">程序直接控制方式poll轮询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%94%BE%E5%85%A5%E5%AD%98%E5%82%A8%E5%99%A8%E5%86%85%E5%AD%98"><span class="toc-number">7.3.1.1.</span> <span class="toc-text">其中为什么要放入存储器内存</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E9%A9%B1%E5%8A%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">7.3.2.</span> <span class="toc-text">中断驱动方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DMA%E6%96%B9%E5%BC%8F"><span class="toc-number">7.3.3.</span> <span class="toc-text">DMA方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DMA%E6%8E%A7%E5%88%B6%E5%99%A8-%E4%B8%80%E7%A7%8DI-O%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="toc-number">7.3.3.1.</span> <span class="toc-text">DMA控制器 一种I&#x2F;O控制器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DMA%E6%96%B9%E5%BC%8F-1"><span class="toc-number">7.3.3.2.</span> <span class="toc-text">DMA方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E9%81%93%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F"><span class="toc-number">7.3.4.</span> <span class="toc-text">通道控制方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-49"><span class="toc-number">7.3.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O%E8%BD%AF%E4%BB%B6%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84"><span class="toc-number">7.4.</span> <span class="toc-text">I&#x2F;O软件层次结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%80%BB%E8%A7%88-5"><span class="toc-number">7.4.1.</span> <span class="toc-text">知识总览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%B1%82%E8%BD%AF%E4%BB%B6"><span class="toc-number">7.4.2.</span> <span class="toc-text">用户层软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E7%8B%AC%E7%AB%8B%E6%80%A7%E8%BD%AF%E4%BB%B6"><span class="toc-number">7.4.3.</span> <span class="toc-text">设备独立性软件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%AE%BE%E5%A4%87%E8%A1%A8%EF%BC%88LUT%E8%A1%A8%EF%BC%89Logical-Unit-Table"><span class="toc-number">7.4.4.</span> <span class="toc-text">逻辑设备表（LUT表）Logical Unit Table</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">7.4.5.</span> <span class="toc-text">设备驱动程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E6%96%AD%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F-%E7%AC%AC%E4%B8%80%E7%AB%A0%E8%AE%B2%E8%BF%87"><span class="toc-number">7.4.6.</span> <span class="toc-text">中断处理程序 第一章讲过</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-50"><span class="toc-number">7.4.7.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#I-O%E6%A0%B8%E5%BF%83%E5%AD%90%E7%B3%BB%E7%BB%9F-%E8%AE%BE%E5%A4%87%E7%8B%AC%E7%AB%8B%E8%BD%AF%E4%BB%B6%E4%B8%AD%E5%8A%9F%E8%83%BD%E5%85%B7%E4%BD%93%E5%AE%9E%E7%8E%B0"><span class="toc-number">7.5.</span> <span class="toc-text">I&#x2F;O核心子系统 设备独立软件中功能具体实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E6%80%BB%E8%A7%88-6"><span class="toc-number">7.5.1.</span> <span class="toc-text">知识总览</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-%EF%BC%9A%E5%81%87%E8%84%B1%E6%9C%BA%E6%8A%80%E6%9C%AF%EF%BC%88SPOOLing%E6%8A%80%E6%9C%AF%EF%BC%89%E6%98%AF%E7%94%A8%E6%88%B7%E5%B1%82%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8A%9F%E8%83%BD"><span class="toc-number">7.5.2.</span> <span class="toc-text">&#x3D;&#x3D;注意&#x3D;&#x3D;：假脱机技术（SPOOLing技术）是用户层实现的功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#I-O%E8%B0%83%E5%BA%A6"><span class="toc-number">7.5.3.</span> <span class="toc-text">I&#x2F;O调度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E4%BF%9D%E6%8A%A4"><span class="toc-number">7.5.4.</span> <span class="toc-text">设备保护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%81%87%E8%84%B1%E6%9C%BA%E6%8A%80%E6%9C%AF-%E7%94%A8%E6%88%B7%E5%B1%82%E5%AE%9E%E7%8E%B0%E7%9A%84"><span class="toc-number">7.5.5.</span> <span class="toc-text">假脱机技术 用户层实现的</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-%E8%84%B1%E6%9C%BA%E6%8A%80%E6%9C%AF"><span class="toc-number">7.5.5.1.</span> <span class="toc-text">什么是 脱机技术</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%87%E8%84%B1%E6%9C%BA%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86"><span class="toc-number">7.5.5.2.</span> <span class="toc-text">假脱机技术原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BF%9B%E7%A8%8B%E3%80%81%E8%BE%93%E5%87%BA%E8%BF%9B%E7%A8%8B%EF%BC%9A%E7%B1%BB%E4%BC%BC%E4%BA%8E-%E5%A4%96%E5%9B%B4%E6%8E%A7%E5%88%B6%E6%9C%BA"><span class="toc-number">7.5.5.3.</span> <span class="toc-text">输入进程、输出进程：类似于&#x3D;&#x3D;外围控制机&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E4%BA%95%E3%80%81%E8%BE%93%E5%87%BA%E4%BA%95%EF%BC%9A%E7%B1%BB%E4%BC%BC%E4%BA%8E-%E7%A3%81%E5%B8%A6"><span class="toc-number">7.5.5.4.</span> <span class="toc-text">输入井、输出井：类似于&#x3D;&#x3D;磁带&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E6%89%93%E5%8D%B0%E6%9C%BA%E5%8E%9F%E7%90%86-%E5%81%87%E8%84%B1%E6%9C%BA%E6%8A%80%E6%9C%AF%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">7.5.5.5.</span> <span class="toc-text">共享打印机原理 假脱机技术的应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-51"><span class="toc-number">7.5.5.6.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E7%9A%84%E5%88%86%E9%85%8D%E4%B8%8E%E5%9B%9E%E6%94%B6"><span class="toc-number">7.5.6.</span> <span class="toc-text">设备的分配与回收</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E5%88%86%E9%85%8D%E6%97%B6%E9%9C%80%E8%A6%81%E8%80%83%E8%99%91%E7%9A%84%E5%9B%A0%E7%B4%A0"><span class="toc-number">7.5.6.1.</span> <span class="toc-text">设备分配时需要考虑的因素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E5%88%86%E9%85%8D%E5%92%8C%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D"><span class="toc-number">7.5.6.2.</span> <span class="toc-text">静态分配和动态分配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E5%88%86%E9%85%8D%E7%AE%A1%E7%90%86%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">7.5.6.3.</span> <span class="toc-text">设备分配管理中的数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E6%8E%A7%E5%88%B6%E8%A1%A8%EF%BC%88DCT%EF%BC%89"><span class="toc-number">7.5.6.3.1.</span> <span class="toc-text">设备控制表（DCT）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E6%8E%A7%E5%88%B6%E8%A1%A8%EF%BC%88COCT%EF%BC%89"><span class="toc-number">7.5.6.3.2.</span> <span class="toc-text">控制器控制表（COCT）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E9%81%93%E6%8E%A7%E5%88%B6%E8%A1%A8%EF%BC%88CHCT%EF%BC%89"><span class="toc-number">7.5.6.3.3.</span> <span class="toc-text">通道控制表（CHCT）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AE%BE%E5%A4%87%E8%A1%A8%EF%BC%88SDT%EF%BC%89"><span class="toc-number">7.5.6.3.4.</span> <span class="toc-text">系统设备表（SDT）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E5%88%86%E9%85%8D%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-number">7.5.6.4.</span> <span class="toc-text">设备分配的步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87%E5%88%86%E9%85%8D%E7%9A%84%E6%AD%A5%E9%AA%A4%E6%94%B9%E8%BF%9B"><span class="toc-number">7.5.6.5.</span> <span class="toc-text">设备分配的步骤改进</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-52"><span class="toc-number">7.5.6.6.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E5%8C%BA%E7%AE%A1%E7%90%86"><span class="toc-number">7.5.7.</span> <span class="toc-text">缓冲区管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BC%93%E5%86%B2%E5%8C%BA%EF%BC%9F%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8%EF%BC%9F"><span class="toc-number">7.5.7.1.</span> <span class="toc-text">什么是缓冲区？有什么作用？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E5%8C%BA%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5"><span class="toc-number">7.5.7.2.</span> <span class="toc-text">缓冲区管理策略</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E7%BC%93%E5%86%B2"><span class="toc-number">7.5.7.2.1.</span> <span class="toc-text">单缓冲</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%AF%8F%E5%A4%84%E7%90%86%E4%B8%80%E5%9D%97%E6%95%B0%E6%8D%AE%E5%B9%B3%E5%9D%87%E9%9C%80%E8%A6%81%E5%A4%9A%E5%B0%91%E6%97%B6%E9%97%B4"><span class="toc-number">7.5.7.2.1.1.</span> <span class="toc-text">计算每处理一块数据平均需要多少时间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#T-C"><span class="toc-number">7.5.7.3.</span> <span class="toc-text">T&gt;C</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#T"><span class="toc-number">7.5.7.4.</span> <span class="toc-text">T&lt;C</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%93%E8%AE%BA-1"><span class="toc-number">7.5.7.4.0.1.</span> <span class="toc-text">结论</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%8C%E7%BC%93%E5%86%B2"><span class="toc-number">7.5.7.4.1.</span> <span class="toc-text">双缓冲</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8D%95-%E5%8F%8C%E7%BC%93%E5%86%B2%E7%AD%96%E7%95%A5%E5%9C%A8%E9%80%9A%E4%BF%A1%E6%97%B6%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.5.7.4.2.</span> <span class="toc-text">使用单&#x2F;双缓冲策略在通信时的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%E9%80%9A%E4%BF%A1%E4%B8%AD%E7%9A%84%E7%AE%A1%E9%81%93%E5%B0%B1%E6%98%AF%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-number">7.5.7.4.2.1.</span> <span class="toc-text">管道通信中的管道就是缓冲区</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%BC%93%E5%86%B2%E5%8C%BA"><span class="toc-number">7.5.7.4.3.</span> <span class="toc-text">循环缓冲区</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E6%B1%A0"><span class="toc-number">7.5.7.4.4.</span> <span class="toc-text">缓冲池</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-53"><span class="toc-number">7.5.7.4.5.</span> <span class="toc-text">&#x3D;&#x3D;总结&#x3D;&#x3D;</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F"><span class="toc-number">8.</span> <span class="toc-text">分布式系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80"><span class="toc-number">8.1.</span> <span class="toc-text">通信基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E9%9D%A0%E7%9A%84%E9%80%9A%E4%BF%A1%E5%B1%82"><span class="toc-number">8.2.</span> <span class="toc-text">不可靠的通信层</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E7%9A%84%E9%80%9A%E4%BF%A1%E5%B1%82"><span class="toc-number">8.3.</span> <span class="toc-text">可靠的通信层</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E4%BF%A1%E6%8A%BD%E8%B1%A1"><span class="toc-number">8.4.</span> <span class="toc-text">通信抽象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E8%BF%87%E7%A8%8B%E8%B0%83%E7%94%A8%EF%BC%88RPC%EF%BC%89"><span class="toc-number">8.5.</span> <span class="toc-text">远程过程调用（RPC）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Sun%E7%9A%84%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%EF%BC%88NFS%EF%BC%89"><span class="toc-number">9.</span> <span class="toc-text">Sun的网络文件系统（NFS）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#end"><span class="toc-number">10.</span> <span class="toc-text">end</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/07/25/C++%E9%9D%A2%E7%BB%8F/" title="C++面经整理集"><img src="/./img/%E7%AC%94%E8%AE%B0p1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++面经整理集"/></a><div class="content"><a class="title" href="/2023/07/25/C++%E9%9D%A2%E7%BB%8F/" title="C++面经整理集">C++面经整理集</a><time datetime="2023-07-25T09:55:13.000Z" title="发表于 2023-07-25 17:55:13">2023-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/25/Effective%20C++/" title="Effective C++笔记"><img src="/./img/%E7%AC%94%E8%AE%B0p2.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Effective C++笔记"/></a><div class="content"><a class="title" href="/2023/07/25/Effective%20C++/" title="Effective C++笔记">Effective C++笔记</a><time datetime="2023-07-25T09:54:53.000Z" title="发表于 2023-07-25 17:54:53">2023-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/25/MySQL%E7%AC%94%E8%AE%B0/" title="MySQL笔记"><img src="/./img/%E7%AC%94%E8%AE%B0p4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL笔记"/></a><div class="content"><a class="title" href="/2023/07/25/MySQL%E7%AC%94%E8%AE%B0/" title="MySQL笔记">MySQL笔记</a><time datetime="2023-07-25T09:54:50.000Z" title="发表于 2023-07-25 17:54:50">2023-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/25/C++%E6%9F%A5%E6%BC%8F%E8%A1%A5%E7%BC%BA/" title="C++Primer查漏补缺"><img src="/./img/%E7%AC%94%E8%AE%B0p8.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++Primer查漏补缺"/></a><div class="content"><a class="title" href="/2023/07/25/C++%E6%9F%A5%E6%BC%8F%E8%A1%A5%E7%BC%BA/" title="C++Primer查漏补缺">C++Primer查漏补缺</a><time datetime="2023-07-25T09:54:13.000Z" title="发表于 2023-07-25 17:54:13">2023-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/25/C++Primer%E7%AC%94%E8%AE%B0/" title="C++Primer笔记"><img src="/./img/%E7%AC%94%E8%AE%B0p3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++Primer笔记"/></a><div class="content"><a class="title" href="/2023/07/25/C++Primer%E7%AC%94%E8%AE%B0/" title="C++Primer笔记">C++Primer笔记</a><time datetime="2023-07-25T09:53:56.000Z" title="发表于 2023-07-25 17:53:56">2023-07-25</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Estrella</div><div class="footer_custom_text">Wlcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>